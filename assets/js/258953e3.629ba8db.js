"use strict";(self.webpackChunkamazon_connect_salesforce_cti=self.webpackChunkamazon_connect_salesforce_cti||[]).push([[2015],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(a),m=i,g=d["".concat(s,".").concat(m)]||d[m]||c[m]||r;return a?n.createElement(g,o(o({ref:t},p),{},{components:a})):n.createElement(g,o({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<r;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4686:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=a(7462),i=(a(7294),a(3905)),r=a(4996);const o={id:"release-notes",title:"Release Notes"},l=void 0,s={unversionedId:"lightning/release-notes",id:"lightning/release-notes",title:"Release Notes",description:"Important Notes",source:"@site/docs/lightning/release-notes.md",sourceDirName:"lightning",slug:"/lightning/release-notes",permalink:"/amazon-connect-salesforce-cti/docs/lightning/release-notes",draft:!1,editUrl:"https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/lightning/release-notes.md",tags:[],version:"current",frontMatter:{id:"release-notes",title:"Release Notes"},sidebar:"lightning",previous:{title:"Notices",permalink:"/amazon-connect-salesforce-cti/docs/lightning/notices"},next:{title:"Key Benefits and Requirements",permalink:"/amazon-connect-salesforce-cti/docs/lightning/introduction/01-key-benefits"}},u={},p=[{value:"Important Notes",id:"important-notes",level:2},{value:"Google Chrome third-party cookies support",id:"google-chrome-third-party-cookies-support",level:3},{value:"Summer &#39;23 Release",id:"summer-23-release",level:3},{value:"Salesforce Enhanced Domains",id:"salesforce-enhanced-domains",level:3},{value:"Spring &#39;22 Release",id:"spring-22-release",level:3},{value:"WebRTC Plan-B Deprecation",id:"webrtc-plan-b-deprecation",level:3},{value:"Installing as Admin",id:"installing-as-admin",level:3},{value:"Important notes for CTI Flow Builders",id:"important-notes-for-cti-flow-builders",level:3},{value:"Migrating CTI Flows to CTI Adapter v5.0+",id:"migrating-cti-flows-to-cti-adapter-v50",level:4},{value:"Improved Phone Number Handling with Updated Library (v5.22+)",id:"improved-phone-number-handling-with-updated-library-v522",level:4},{value:"5.29 November 2025",id:"529-november-2025",level:2},{value:"5.28 September 2025",id:"528-september-2025",level:2},{value:"5.27 April 2025",id:"527-april-2025",level:2},{value:"5.24 August 2024",id:"524-august-2024",level:2},{value:"5.23.3 July 2024",id:"5233-july-2024",level:2},{value:"5.22 February 2024",id:"522-february-2024",level:2},{value:"5.21.1 November 2023",id:"5211-november-2023",level:2},{value:"5.21 October 2023",id:"521-october-2023",level:2},{value:"5.20.1 July 2023",id:"5201-july-2023",level:2},{value:"5.19 April 2022",id:"519-april-2022",level:2},{value:"5.18 January 2022",id:"518-january-2022",level:2},{value:"5.17 November 2021",id:"517-november-2021",level:2},{value:"5.16 August 2021",id:"516-august-2021",level:2},{value:"5.15 July 2021",id:"515-july-2021",level:2},{value:"5.14 June 2021",id:"514-june-2021",level:2},{value:"5.13 April 2021",id:"513-april-2021",level:2},{value:"5.12 March 2021",id:"512-march-2021",level:2},{value:"5.11 March 2021",id:"511-march-2021",level:2},{value:"5.10 February 2021",id:"510-february-2021",level:2},{value:"5.9 December 2020",id:"59-december-2020",level:2},{value:"5.7 November 2020",id:"57-november-2020",level:2},{value:"5.5 October 2020",id:"55-october-2020",level:2},{value:"5.4 Late September 2020",id:"54-late-september-2020",level:2},{value:"5.3 September 2020",id:"53-september-2020",level:2},{value:"5.1 Late August 2020",id:"51-late-august-2020",level:2},{value:"5.0 August 2020",id:"50-august-2020",level:2},{value:"4.5 April 2020",id:"45-april-2020",level:2},{value:"4.4 March 2020",id:"44-march-2020",level:2},{value:"4.2 December 2019",id:"42-december-2019",level:2},{value:"4.1 November 2019",id:"41-november-2019",level:2}],c={toc:p};function d(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"important-notes"},"Important Notes"),(0,i.kt)("h3",{id:"google-chrome-third-party-cookies-support"},"Google Chrome third-party cookies support"),(0,i.kt)("p",null,"The CTI Adapter v5.21 now provides support for third party cookies (see ",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/connect/latest/adminguide/admin-3pcookies.html"},"Amazon Connect third party cookie documentation"),"). After you upgrade to the latest version of the CTI Adapter (v5.21+), agents will be prompted to allow third-party cookies from Amazon Connect: "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"When agents open the CCP within the CTI Adapter, a new ",(0,i.kt)("strong",{parentName:"li"},"Allow access to cookies")," banner appears. It has one action button: ",(0,i.kt)("strong",{parentName:"li"},"Grant access"),"."),(0,i.kt)("li",{parentName:"ol"},"When agents choose ",(0,i.kt)("strong",{parentName:"li"},"Grant access"),", the browser displays a prompt to authorize the use of third-party cookies."),(0,i.kt)("li",{parentName:"ol"},"Agents must select ",(0,i.kt)("strong",{parentName:"li"},"Allow")," on this second pop-up, and then proceed to log in.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note"),": If the agent does not follow steps above, please see ",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/connect/latest/adminguide/admin-3pcookies.html#upgrade3p-agent-exp"},"our documentation")," on how to resolve."),(0,i.kt)("h3",{id:"summer-23-release"},"Summer '23 Release"),(0,i.kt)("p",null,"The Salesforce summer release '23 blocks Username-Password Flow by default (see more details ",(0,i.kt)("a",{parentName:"p",href:"https://help.salesforce.com/s/articleView?id=release-notes.rn_security_username-password_flow_blocked_by_default.htm&release=244&type=5"},"here"),"). If your org uses this version of Salesforce, please unblock the flow by following ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/02-guided-setup#allowing-the-api-user-to-authenticate-using-password"},"these")," instructions."),(0,i.kt)("h3",{id:"salesforce-enhanced-domains"},"Salesforce Enhanced Domains"),(0,i.kt)("p",null,"Salesforce is making changes to the instance domains on account of the ",(0,i.kt)("a",{parentName:"p",href:"https://help.salesforce.com/s/articleView?id=sf.domain_name_enhanced_enable.htm&type=5"},"enhanced domains")," feature in the Spring 23 release. Once this feature is enabled, you must migrate the CTI adapter to using these new domains. See ",(0,i.kt)("a",{parentName:"p",href:"/docs/other/sf-enhanced-domains-migration"},"here")," for migration instructions."),(0,i.kt)("h3",{id:"spring-22-release"},"Spring '22 Release"),(0,i.kt)("p",null,"The Salesforce Spring '22 release introduces a change that will likely cause an install or update to any version of the adapter before 5.18 to fail. In addition if you are using the ",(0,i.kt)("inlineCode",{parentName:"p"},"ac_PhoneCallListView")," component in any version of the adapter, the loading of your component may fail. This component has been depricated in v5.18."),(0,i.kt)("h3",{id:"webrtc-plan-b-deprecation"},"WebRTC Plan-B Deprecation"),(0,i.kt)("p",null,"The Plan-B deprecation should not affect any current users of the CTI Adapter, as we utilize the embedded CCP and do not build in connect-rtc-js seperately."),(0,i.kt)("h3",{id:"installing-as-admin"},"Installing as Admin"),(0,i.kt)("p",null,"Please ",(0,i.kt)("strong",{parentName:"p"},"confirm that the application was installed for admins only")," (see ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/01-installation"},"installation")," for more details). If you did this by accident, then you will have to ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/06-adapter-installation-troubleshooting#how-to-remove-permissions-to-visualforce-pages-apex-classes-for-a-desired-profile"},"manually edit the profiles")," to remove the permissions to the objects and pages created by the app. If you are updating the package, please verify that all users have the proper AC permission set. We strongly recommend when installing or upgrading to a new version of the CTI Adapter, customers thoroughly test the new version in a staging or test environment before deploying it to production to ensure compatibility and stability."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Important:")," When upgrading the CTI Adapter, please make sure that the Salesforce Lambdas are a ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/04-salesforce-lambdas-manual-setup#compatibility-table"},"compatible version"),". Also review the ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/06-adapter-installation-troubleshooting"},"CTI Adapter Installation Troubleshooting and Common Issues")," section for known issues and troubleshooting."),(0,i.kt)("h3",{id:"important-notes-for-cti-flow-builders"},"Important notes for CTI Flow Builders"),(0,i.kt)("h4",{id:"migrating-cti-flows-to-cti-adapter-v50"},"Migrating CTI Flows to CTI Adapter v5.0+"),(0,i.kt)("p",null,"CTI Flows in v5.0+ replaces Lightning CTI Extensions in version v4.x allowing you to build your agent interface for both Lightning and Classic using a drag-and-drop UI. Many of the CTI blocks in CTI Flows correspond to the API calls in the previous Lightning CTI Extensions, making it easy to map them. However, your existing Lightning CTI Extension scripts will not be automatically migrated to CTI Flows. During the upgrade, you\u2019ll have the option to download your existing scripts for reference as you rebuild them in CTI Flows. We highly recommend testing this version in a staging/non-production environment to ensure new CTI Flows match the functionality of your previous scripts. If you need additional functionality from your current scripts, please open a support ticket."),(0,i.kt)("h4",{id:"improved-phone-number-handling-with-updated-library-v522"},"Improved Phone Number Handling with Updated Library (v5.22+)"),(0,i.kt)("p",null,"We've upgraded the ",(0,i.kt)("inlineCode",{parentName:"p"},"libphonenumber-js")," library to the latest version, expanding support for various area codes that were previously causing call failures. This update ensures greater accuracy and compatibility when handling phone numbers globally."),(0,i.kt)("p",null,"This upgrade introduces a breaking change to how you access parsed phone numbers within your CTI flows. While the previous path (",(0,i.kt)("inlineCode",{parentName:"p"},"$.contact.parsedNumber.phone"),") retrieved the phone number of the currenct contact, we recommend using the following updated paths for better reliability:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"International Number:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"$.contact.parsedNumber.number")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"National Number:")," ",(0,i.kt)("inlineCode",{parentName:"li"},"$.contact.parsedNumber.nationalNumber"))),(0,i.kt)("p",null,"Please review your existing CTI flows and update any JSON paths referencing parsed phone numbers to ensure seamless functionality. "),(0,i.kt)("p",null,"For detailed information about the ",(0,i.kt)("inlineCode",{parentName:"p"},"libphonenumber-js")," library and its features, please visit: ",(0,i.kt)("a",{parentName:"p",href:"https://gitlab.com/catamphetamine/libphonenumber-js"},"https://gitlab.com/catamphetamine/libphonenumber-js")),(0,i.kt)("h2",{id:"529-november-2025"},"5.29 November 2025"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Resolved an issue where a misconfigured Salesforce CTI Adapter base URL caused malformed CCP paths, leading to delayed UI updates and initialization failures."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Resolved an issue where failure to parse the AC Contact Channel Analytics URL resulted in unexpected UI errors.")),(0,i.kt)("h2",{id:"528-september-2025"},"5.28 September 2025"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Introduction of ",(0,i.kt)("em",{parentName:"li"},"Mini Lightning Adapter")," which shows agent status, replacing embedded SoftPhone CCP for customers using Amazon Connect native CCP in a different window."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Support for both VDI and Medialess Pop-out."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed bug on negative interaction duration."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed bug on CTI Flow execution for event-driven sources mismatching contact to execute."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Addition of more supported metrics on ",(0,i.kt)("inlineCode",{parentName:"li"},"AC_AgentPerformance")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"AC_HistoricalQueueMetrics"),".")),(0,i.kt)("h2",{id:"527-april-2025"},"5.27 April 2025"),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"NOTE")),(0,i.kt)("p",null,"Before installing this version, please install this ",(0,i.kt)("a",{parentName:"p",href:"https://login.salesforce.com/packaging/installPackage.apexp?p0=04tKY000000gUAI"},"patch")," first to remove references to older components unused in the application which were removed on 5.27. Salesforce requires a two-step upgrade for removing components."),(0,i.kt)("hr",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/connect/latest/adminguide/setup-connect-global-resiliency.html"},"Amazon Connect Global Resiliency")," support: customers can now set up their CTI Adapter in Salesforce with their Connect replica instance, enabling agents\u2019 CCP to failover to the specified traffic distribution set by Connect Admin. ",(0,i.kt)("a",{parentName:"li",href:"/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/16-global-resiliency"},"See Documentation")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue for ",(0,i.kt)("inlineCode",{parentName:"li"},"Show modal")," CTI Flow block, updated documentation."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue for ",(0,i.kt)("inlineCode",{parentName:"li"},"Clear properties")," CTI Flow block (recordingNamedCredential uncleared)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," AC Contact Trace Record and AC Contact Channel supports initiation method for monitoring and \u201cGet Contact Properties\u201d CTI Flow block. Updated to include isMonitor (returns true if it is a monitoring contact)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Disable echo cancellation field and permission set \u2014 Voice quality issue."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," If the agent has an ongoing contact, the Popout CCP in the Medialess feature will no longer close when the browser tab containing Salesforce Service Console where the embedded CCP is present, is refreshed or closed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Includes multiparty chat bug fix wherein only the first chat contact is getting used on CTI Actions.")),(0,i.kt)("h2",{id:"524-august-2024"},"5.24 August 2024"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Amazon Workspaces Support: CTI Adapter now provides audio optimization for Amazon Workspaces. ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/cti-adapter/15-vdi#setting-up-audio-optimized-virtual-desktop-infrastructure-vdi"},"See Documentation"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue where our Contact Channel Analytics Records would display an error prompt when viewed in the Lightning App Builder."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue where our Contact Channel interaction duration data would show erroneous values for missed calls.")),(0,i.kt)("h2",{id:"5233-july-2024"},"5.23.3 July 2024"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Added cron-job scheduler for batch processing of triggers (",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/installation/03-managed-package-manual-setup#configure-the-schedule-for-batch-jobs-for-triggers"},"Link to Documentation"),")"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Recording Controls: Resolved an issue where the recording controls feature would use the default named credential regardless of what was passed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," A new value for Initiation method of a contact 'EXTERNAL_OUTBOUND` added as an item in the picklist for Contact Trace Records (",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/connect/latest/adminguide/ctr-data-model.html"},"Link to AWS Documentaton"),"). "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed the issue of Call Recordings not being rendered on Tasks and Cases pages."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed infinite buffering of Contact Lens Data on the Contact Channel Analytics page."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed the issue that prevented the use of custom Named Credentials names with recording controls, as part of the enhancements introduced in v5.22 (",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/cti-adapter/09-recording-controls#recording-named-credential"},"link to documentation"),").")),(0,i.kt)("h2",{id:"522-february-2024"},"5.22 February 2024"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Known Issue in v5.22 - Playback of Connect call recordings on Lightning Task or Case:")," If you are utilizing the CTI Adapter's functionality for enabling call recording streaming and playback on the Lightning Task or Case page, we recommend not upgrading to CTI Adapter version 5.22 as we have discovered an issue where the playback of the call recording does not work as expected. The release v5.23.3 has the fix for this issue, and hence we advise customers to pause upgrading to v5.22.  If you have upgraded to v5.22, the workaround is to use the ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/salesforce-lambdas/04-contact-channel-analytics"},"Connect Contact Channel Analytics (CCA)")," page to access call recordings. To view recordings associated with a specific task or case, please copy the CallObject property and utilize it as a filter on the contactId field within CCAs."),(0,i.kt)("p",{parentName:"li"},"In order to view the recordings for a Task, perform the below steps. Note that these are similar for Cases."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Ensure Contact Channel Analytics is configured within the Salesforce environment, if not already done. Refer to the CTI Adapter documentation for guidance on setting up CCAs."),(0,i.kt)("li",{parentName:"ul"},'Navigate to the task for which you wish to access the recording. Copy the value of the "Call Object Identifier" field from the user interface. For any task to display call recordings, it must have a valid call identifier value. If this field is not visible in the UI, ensure it is added to the Tasks layout. Follow the ',(0,i.kt)("a",{parentName:"li",href:"https://help.salesforce.com/s/articleView?id=sf.admin_local_name_fields_lex.htm&type=5"},"provided guide")," to add the field to the layout.",(0,i.kt)("img",{src:(0,r.Z)("/img/lightning/v5.22-bug-img2.png")})),(0,i.kt)("li",{parentName:"ul"},"Once you have copied the call identifier object to the clipboard, proceed to the CCA pages and utilize the Salesforce Filter to paste the value, isolating the CCA recording associated for the contact. Click on the CCA record to view the call recording.",(0,i.kt)("img",{src:(0,r.Z)("/img/lightning/v5.22-bug-img3.png")}),(0,i.kt)("img",{src:(0,r.Z)("/img/lightning/v5.22-bug-img1.png")})))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Note:")," If you wish to use the v5.22 lambdas, you will need to upgrade your CTI Adapter to v5.22. Consult the ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/04-salesforce-lambdas-manual-setup#compatibility-table"},"compatibility chart"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Feature:")," Citrix Support: CTI Adapter now provides audio optimization for Citrix Workspace. ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/cti-adapter/14-medialess#setting-up-audio-optimized-virtual-desktop-infrastructure-vdi"},"See Documentation"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Feature:")," Early Get User Media(GUM): Enabled support for the CCP feature EarlyGUM. ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/cti-adapter/01-cti-adapter-configuration#update-the-cti-adapter-details"},"See Documentation"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Feature:")," Trigger multi-contact chat events: CTI Adapter enables users to trigger events on selected contact while handling multiple chats simultaneously. ",(0,i.kt)("a",{parentName:"p",href:"cti-adapter/11-chat-widget-integration#trigger-multi-contact-chat-events"},"See Documentation"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," Amazon Q: Amazon Q has undergone a change and goes by a new name. As such, it has been reflected in our documentation. Here is the documentation for ",(0,i.kt)("a",{parentName:"p",href:"https://aws.amazon.com/q/"},"Amazon Q"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:"),' Recording Controls: Updated the Recording Controls feature to allow users to specify the Named Credential they want to use per CTI Adapter in the "Recording Named Credential" field. This field will not be use if this feature is enabled. If the feature is enabled but no value is provided, a default value of "AmazonConnectAPI" will be assumed.')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," Salesforce Lambdas: "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Provided support for queue names with special characters."),(0,i.kt)("li",{parentName:"ul"},"Updated the Salesforce Lambdas to support new fields for Agent Performance, Historic Queue Metrics, and Contact Lens."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," Troubleshooting: Added new section with additional troubleshooting for known problems")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," Triggers:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Fixed typo in CCA Case Trigger + CCA Contact Trigger"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," Presence Sync:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Clarified in our documentation that Presence Sync is not supported in Salesforce Classic adapters. It's listed under the section for Salesforce classic, so this was done to prevent confusion"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bug Fix:")," AC Contact Channels: ",(0,i.kt)("inlineCode",{parentName:"p"},"InteractionDuration")," value will be updated only once after the call ends.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bug Fix:")," Phone numbers: Upgraded the library responsible for formatting numbers to latest version to support calls to more regions.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bug Fix:")," Guided Setup: Improved the process to allowlist user URLs.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bug Fix:")," Recording Controls: Recording Controls tab will now be visible on the first session load in the user's salesforce instance.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Documentation Change:")," Medialess: Created new documentation page for setting up medialess (",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/cti-adapter/14-medialess"},"Link to page"),").")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Documentation Change:")," Historical Metrics: Added clarifying information to setup historical metrics.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Documentation Change:")," Upgrading from an earlier version: Added new documentation on upgrading ",(0,i.kt)("a",{parentName:"p",href:"docs/lightning/installation/05-upgrading-from-an-earlier-version"},"Salesforce Lambdas"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Documentation Change:")," CTI Flow Blocks: Updated with latest CTI Flow blocks. Added new section about accessing CTI flow block values (",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/cti-adapter/03-cti-flows#accessing-cti-flow-block-values"},"Link to section"),")."))),(0,i.kt)("h2",{id:"5211-november-2023"},"5.21.1 November 2023"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug fix:")," Google Chrome third party cookie support for GovCloud instances: The v5.21.1 patch includes updated third party cookie support for GovCloud instances. "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," ",(0,i.kt)("a",{parentName:"li",href:"https://aws.amazon.com/blogs/compute/python-3-10-runtime-now-available-in-aws-lambda/"},"Python 3.10 runtime")," now available in Amazon Connect Salesforce Lambda package v5.19.7 to address AWS ending support for Python 3.7 in AWS Lambda.")),(0,i.kt)("h2",{id:"521-october-2023"},"5.21 October 2023"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Google Chrome third party cookie support : Salesforce CTI Adapter v5.21 enables requests for third party cookies within Salesforce domains to support Amazon Connect. See ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/connect/latest/adminguide/admin-3pcookies.html"},"Amazon Connect third party cookie documentation")," for further information.")),(0,i.kt)("h2",{id:"5201-july-2023"},"5.20.1 July 2023"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Amazon Connect Streams API Upgrade : The Amazon Connect Streams API has been upgraded to version 2.2.0 for improved performance and functionality."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," CCP Element Editor Permission Change : For CCP Element Editor, editing features was previously available to users assigned to permission sets Agent (AC_Agent), Manager (AC_Manager), and Administrator (AC_Administrator). Starting from this version, only users with the Administrator permission set (AC_Administrator) will be able to view and edit feature. This change is designed to restrict modification access of CCP Overlay Elements."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Chat Widget Integration Setup Process Changes: The setup process for Chat Widget Integration has been updated to enhance the integration experience and security."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Backward Incompatibility Notice::")," Chat Widget Integration Update : Customers who have previously set up Chat Widget Integration will need to redo the setup process due to changes introduced in this version. This ensures compatibility with the latest enhancements.",(0,i.kt)("em",{parentName:"li"},"Note: To avoid any downtime of feature, set up should be completed before upgrading the version")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Security:")," Improved Amazon Connect Instance Security : Throttling mechanisms have been introduced to enhance the security of Amazon Connect Instances, ensuring a safer environment for users and their data.")),(0,i.kt)("h2",{id:"519-april-2022"},"5.19 April 2022"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," replace call recording audio streaming via cloudfront distribution with the connect native get-recording endpoint. This change makes it so that the cloudfront infrastructure and associated setup process is no longer necessary. Please note that this change will remove audio recording infrastructure from your AWS account, please make sure to test this change before fully deploying."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," add IgnorePermissionSet setting to FEATURE_WISDOM_PANEL feature. The setting determines whether the AC_CallRecording/AC_Administrator permission set is checked before showing Wisdom to the logged in user."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug fix:")," CTI Flows on contact events will fire after the page was reloaded during a contact\u2019s life cycle"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug fix:")," Fixed an issue where we would create a CCACase or CCAContact batch job even if there were no updates to any related fields.")),(0,i.kt)("h2",{id:"518-january-2022"},"5.18 January 2022"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Updated the ",(0,i.kt)("strong",{parentName:"li"},"Get Salesforce Contact ID")," block to accept E.164 numbers."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed ",(0,i.kt)("strong",{parentName:"li"},"onMessage")," event name and label which was causing CTI flows to not trigger."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed stray template tag in ",(0,i.kt)("inlineCode",{parentName:"li"},"ac_contactChannelListView")," causing Spring \u201922 package installation failure."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Depricated ",(0,i.kt)("inlineCode",{parentName:"li"},"ac_PhoneCallListView")," LWC, as it is an artifact of an old version of the adapter and was causing Spring \u201922 package installation failure."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed issue where switching contact tabs didn\u2019t update the CCP overlay attributes."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed issue where some ",(0,i.kt)("inlineCode",{parentName:"li"},"sfInvoke")," operations were returning complex JSON objects that don't work with Connect Contact Flows")),(0,i.kt)("h2",{id:"517-november-2021"},"5.17 November 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Added the integration with Wisdom, which delivers articles and article recommendations to agents. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/cti-adapter/12-amazonq-integration"},"here")," for more details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Added the integration with Voice id, which provides real-time caller authentication. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/cti-adapter/13-voice-id"},"here")," for more details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed a bug where CTI Actions would only load if you switched overlay tabs. Now they will load immediately."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed a few bugs with Contact Attributes Overlay.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Where you needed to set they would not populate in the overlay unless the CTI Attribute Name value was the same as the contact attribute key."),(0,i.kt)("li",{parentName:"ul"},"Selecting DisplayValue of ",(0,i.kt)("inlineCode",{parentName:"li"},"Key")," did not show just the Key value."),(0,i.kt)("li",{parentName:"ul"},"When using the ShowAllAttributes feature, the already configured CTI Attributes did not maintain the same HTML formatting as before."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed a bug where DialedNumber__c was not filled on outbound calls."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed a bug where Update Contact Attributes didn't work for Chat or Task contacts."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed a bug where the CTI Flow payload would only contain the CTI Action Additional Data when both CTI Action Payload and Additional Data are configured. Now the CTI Flow payload will have both the CTI Action Payload and Additional Data"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Added two new CTI Flow Blocks - Destroy Live Contact and Clear Contact.")),(0,i.kt)("h2",{id:"516-august-2021"},"5.16 August 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Added a ",(0,i.kt)("inlineCode",{parentName:"li"},"callIncomingDuration")," field to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Contact Interaction Metadata")," CTI Flow block, which captures the time between the call coming into an agent and it being accepted/missed/declined."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:")," Moved the medialess popout page to be an optional feature. Learn how to enabled it ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/cti-adapter/01-cti-adapter-configuration#medialess-popout-ccp"},"here")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue where the ",(0,i.kt)("inlineCode",{parentName:"li"},"callInteractionDuration")," would be too large if the call is missed. It is now defaulted to 0 if the call is not picked up."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the medialess adapter where media was still coming through the adapter and causing audio quality issues. Now, when the medialess option is checked, this will disable the allowFramedSoftphone option in CCP config, and media will not be sent through the CCP embedded on Salesforce."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue where Agents couldn't see some CTI Actions if more than 20 CTI Actions are set up. Now, a scroll bar should appear to navigate to all of them."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the isInbound CTI Flow block, which would return false if the Customer hangs up the error before the Agent could answer the call, even if it was inbound."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the InitialAgentStatus sub-feature of SetAgentStatusOnSessionEnd, which would not follow the IfProfileNameIncludes condition."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with CCP overlay where if no additional data is added, including Title, Instructions and Fields, the right pointing caret icon will be displayed for detailed form view. Now the execute button will be displayed in this case."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with CCP overlay where the order parameter was not affecting the sorting of the CTI Actions in the overlay."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the CCP Element Editor where typing the CTI Action name first caused the cursor to move out of the input box."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the Set Agent Salesforce State CTI Flow block.")),(0,i.kt)("h2",{id:"515-july-2021"},"5.15 July 2021"),(0,i.kt)("p",null,"When installing v5.15, please ",(0,i.kt)("strong",{parentName:"p"},"confirm that the application was installed for admins only")," (see ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/01-installation"},"installation")," for more details). If you did this by accident, then you will have to ",(0,i.kt)("a",{parentName:"p",href:"/docs/lightning/installation/06-adapter-installation-troubleshooting#how-to-remove-permissions-to-visualforce-pages-apex-classes-for-a-desired-profile"},"manually edit the profiles")," to remove the permissions to the objects and pages created by the app."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature: Guided Setup")," The Guided Setup feature helps make the setup process easier. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/installation/02-guided-setup"},"Guided Setup")," for more details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature: Chat Widget Integration for SalesForce Experience Cloud(formerly Community Cloud)")," Added VisualForce Page component that allows you to add Amazon Connect Chat Widget in your Salesforce Experience Cloud Site."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Changed the default audio recording component in the Contact Channel Analytics for easier setup. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/salesforce-lambdas/04-contact-channel-analytics"},"Contact Channel Analytics")," for more details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," Created the ExecuteAwsService service for simpler communication between Salesforce and AWS. ",(0,i.kt)("strong",{parentName:"li"},"WARNING:")," If you are using Contact Lens for audio recording you ",(0,i.kt)("em",{parentName:"li"},"must")," replace your existing AwsGenerateAudioRecordingUrl named credential with with the ExecuteAwsService named credential. See ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/installation/01-installation#setting-up-the-executeawsservice-named-credential"},"here")," for more details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Fixed an issue with the lambda package that caused Contact Lens Call Recording Streaming to be broken for redacted calls."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:"),' Fixed an issue that caused the "Clear All Properties" CTI Flow Block to clear properties important to the CTI adpater working.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bug Fix:")," Added the ",(0,i.kt)("inlineCode",{parentName:"li"},"DISCONNECT")," field to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Initiation Method")," field in Contact Trace Records.")),(0,i.kt)("h2",{id:"514-june-2021"},"5.14 June 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"BugFix:")," Added batch processing to CCA Case Trigger and CCA Contact Trigger."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," The issue that caused an Attribute label to not display properly in the attributes panel has been fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," The issue that caused AC Queue Metrics tab's name showing blank has been fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," The issue that caused the Recording Panel button to fail when a url is used for connect instance alias has been fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," We now make it possible for voicemail drops to work with queue callbacks."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," You can now configure the CT Action Recording Panel's initial state using contact attributes. If you're recording your call, make sure to add an attribute named ",(0,i.kt)("inlineCode",{parentName:"li"},"RECORDING_STARTED")," whose value is ",(0,i.kt)("inlineCode",{parentName:"li"},"true")," in your Contact Flow."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement:")," We have added ",(0,i.kt)("inlineCode",{parentName:"li"},"IfCurrentAgentState")," tag to ",(0,i.kt)("inlineCode",{parentName:"li"},"SetAgentStatusOnSessionEnd")," feature, which allows customers to condition this feature on the Agent's current state.")),(0,i.kt)("h2",{id:"513-april-2021"},"5.13 April 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature: CTI Actions - programmable buttons within the CCP overlay"))),(0,i.kt)("p",null,'In this release, we have added a feature called CTI Action which are programmable buttons for your CTI Flows. Each CTI Action is a button that can be programmed to trigger a CTI Flows whose source value is "CTI Action." In addition, CTI Actions can be programmed to ask the agent for additional information via a data entry form. You can use the agent\'s entry in your CTI Flow with the help of "Get Payload" block. This is a great way to ask your agents to enter ad-hoc data prior to running the CTI Flow to provide additional information as part of a workflow to automate case creation, or start a customer refund process. ',(0,i.kt)("strong",{parentName:"p"},"If you are upgrading from a previous version of the CTI Adapter, please be sure to review the ",(0,i.kt)("a",{parentName:"strong",href:"/docs/lightning/cti-adapter/08-cti-actions#upgrading-from-an-earlier-version"},"additional setup steps required")," for CTI Actions.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature: CTI Actions: recording API integration within the CCP overlay"))),(0,i.kt)("p",null,"The CTI Adapter now includes integration with Connect's recording API. This feature allows the agent to control when to start and stop recording a call. Once the recording has started, they can also pause and resume it. For example, agents can pause a recording before asking for sensitive information from your customers. Once the agent stops a recording, you cannot start it again. Use pause/resume buttons after you've started recording a call to control the recording."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement: Voicemail Drops (beta)"))),(0,i.kt)("p",null,"The ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"/docs/lightning/cti-adapter/10-voicemail-drops"},"beta Voicemail Drops")),' feature now integrates with CTI Actions. In the beta, voicemail drops were loaded directly into the CCP Overlay. As of 5.13, you will need to create a CTI Action, and use the newly added "Leave a Voicemail" block in the CTI Flow where you can configure the specific voicemail drop and the quick connect name to use for the voicemail.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature: CCP Overlay: Data panel to receive data from CTI Flows."))),(0,i.kt)("p",null,'You can now send data from a CTI Flow to the CCP Overlay. The Data panel on CCP Overlay will display any object you pass it from "Send Data to CCP Overlay" block.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'Feature: CTI Flow Blocks: "Start Recording" and "Stop Recording"'))),(0,i.kt)("p",null,'With "Start Recording" and "Stop Recording" blocks, you can control the voice recording of the call within your CTI Flows.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'Feature: CTI Flow Block: "Update Contact Attributes"'))),(0,i.kt)("p",null,"You can now update contract attributes using CTI Flows. This block accepts a list of key-value pairs and assigns them to the currently active contact. It may come handy for passing Case id and other important information to the next agent when transferring a call."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'Feature: CTI Flow Block: "Get Payload"'))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"payload"),' object contains the arguments passed to the CTI Flow. Now you will be able to use "Get Payload" block to reference a payload key as an input in other blocks on your CTI Flow.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'Feature: CTI Flow Block: "Send Data to CCP Overlay"'))),(0,i.kt)("p",null,'This block allows you to send data to your agent from a CTI flow. The agent will see this information in the CCP Overlay in a panel entitled "Data."'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'Feature: CTI Flow Block: "Leave a Voicemail"'))),(0,i.kt)("p",null,"This block works with the beta Voicemail Drops feature. When you configure the voicemailDropName and quickConnectName, it will pass the contact to an IVR to leave a voicemail on the agent's behalf."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},'Feature: CTI Flow Block: "Get Salesforce Lead ID":')," This block allows you to get a Salesforce lead by using a phone number.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:"),' "Get Salesforce Contact Id" block now uses FIND syntax to search across multiple fields.')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"BugFix:")," For the ",(0,i.kt)("inlineCode",{parentName:"p"},"SetAgentStatusOnSessionEnd")," feature, it would occasionally fail if the agent hadn't interacted with the webpage. We solve this by creating a popout to monitor the agent session.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," For the ",(0,i.kt)("inlineCode",{parentName:"p"},"SetAgentStatusOnSessionEnd")," attribute, you can now specify multiple values.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," When ",(0,i.kt)("inlineCode",{parentName:"p"},"SetAgentStatusOnSessionEnd")," feature is enabled, you can now configure which state the agent should be shown as when they login with the InitialAgentState setting.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement:")," When ",(0,i.kt)("inlineCode",{parentName:"p"},"SetAgentStatusOnSessionEnd")," feature is enabled, you can now configure which agent to logout when all tabs are closed by setting the Status to Logout.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bugfix:")," Addressed issue that caused CTI Flows to be run on every open Salesforce tab.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Bugfix:"),' Addressed an issue in "Get Salesforce Contact Id" block that caused the query to fail if the phone number was in E164 format.')),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Enhancement"),": Added the onDestroy Event to certain CTI Flow Sources"))),(0,i.kt)("h2",{id:"512-march-2021"},"5.12 March 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Added custom setting which will allow customers to enable and disable non-essential triggers (They are disabled by default now). ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/installation/06-adapter-installation-troubleshooting"},"More details in the troubleshooting section")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Addressed additional trigger issue that prevented orgs with 200k+ CCA records from updating Case and Contact records."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Addressed issue where AC Permission sets did not include the CustomerEndpointAddress field for the ContactChannelAnalytics object."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Addressed issue where AC Permission sets did not include the MedialessPopout page.")),(0,i.kt)("h2",{id:"511-march-2021"},"5.11 March 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Addressed trigger issue that prevented community and partner users from updating Contact and Case records.")),(0,i.kt)("h2",{id:"510-february-2021"},"5.10 February 2021"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": ",(0,i.kt)("em",{parentName:"li"},"Contact Control Panel (CCP) Audio Device settings option.")," Admins can toggle Phone type settings and the new ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/connect/latest/adminguide/audio-device-settings.html"},"Audio Devices settings")," for agents to see on their CCP. ",(0,i.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/connect/latest/adminguide/audio-device-settings.html"},"Audio Device settings")," allow the agents to choose audio devices for their speaker, microphone, and ringer."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": ",(0,i.kt)("em",{parentName:"li"},"Custom Ringtone for chat"),". Admins can configure a custom ringtone for chat (separate from CCP) from the CTI Adapter configuration page."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement"),": The Salesforce built-in Cross Site Request Forgery (CSRF) protection is enabled for Visualforce pages in the CTI Adapter package which improves organizational security to protect against cross site request forgeries."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Decision blocks no longer requires both sockets to be connected."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Click to Dial stopped working after first use until the agent refreshed the page."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Error that prevented Contact Lens app resources from being hosted on a different domain than the Salesforce instance."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Error that prevented Contact Lens app from displaying intermittently when Transcribe was enabled."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Changed the logic for the IsContactTransfer CTI Flow Block which always returned true."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Medialess popout not closing after Salesforce tabs are closed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Login window did not close automatically after logging into Connect."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Unable to upgrade the package if the Case or Contact object contained encrypted fields.")),(0,i.kt)("h2",{id:"59-december-2020"},"5.9 December 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Contact Lens Integration"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Tasks Integration - Added the Amazon Connect Task Contact as a source to CTI Flow in addition to Task specific events"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Block - Is Task Contact? - Check if the contact is a task"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Block - Create Task Contact - Creating a new task contact with certain inputs."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Block - Pop Task Contact's Reference Urls - Pop any reference urls that are related to the task contact"),(0,i.kt)("li",{parentName:"ul"},"Upgraded Salesforce API to v50.0."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature update"),": If you have CCP open on multiple tabs, CTI Flows will be executed only on one of them. The execution will be performed on the current tab, by default. If the agent is currently looking at a different site, a random tab will be selected to perform the execution."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement"),': $User.ProfileId is now available through "userProfile" property.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement"),": CTI Flow execution timeout window has been increased to 60 seconds."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature update"),": When the CCP popout is opened, we now ask for a confirmation before refreshing or closing the tab that opened it. Note that if you do close the original tab, the pop out might also be closed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Voicemail Drops feature has been fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': CTI Flow "Open Subtab" block has been fixed.')),(0,i.kt)("h2",{id:"57-november-2020"},"5.7 November 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature update"),": Change audio recording feature in the Contact Channel Analytics page to use an audio streaming approach. Please review the updated ",(0,i.kt)("a",{parentName:"li",href:"/docs/lightning/salesforce-lambdas/04-contact-channel-analytics"},"Contact Channel Analytics")," section for the setup details."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Add permission set specifically for the audio recording feature"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Localization into 9 languages."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': Add callType to return fields of "Get Contact Properties" block'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': Add formatted phone number to return fields of "Get Contact Properties" block'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Add script name to CTI flow definition file."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Remove context from log outputs"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Return field of \u201cOpen Primary Tab\u201d was value, not id, as specified. We now provide it in both ",(0,i.kt)("inlineCode",{parentName:"li"},"value")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"id")," fields for backward compatibility."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Make the error message shown when the execution runs too long more informative."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': Make sure the attributes overlay doesn\'t open automatically when CCP is opened.\nDocumentation: "Create and pop that task" default flow is fixed.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': update return value of "Get Agent Configuration" block to match the documentation.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Increase CTI Flow timeout to 10 seconds."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': remove the leading wildcard matcher in "Get Salesforce Contact Id" block query. The wildcard matcher caused performance issues with the query. Going forward make sure the phone number is an exact match to the one in file.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Ensure \u201cJoin Strings\u201d block does not ignore boolean false values."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Ensure \u201cLog to Console\u201d block does not ignore boolean false values."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Add uid field on top of the block on the canvas."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Remove the loginWindow object from log output because it errors with "Cannot convert object to primitive value."'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": ContactChannel object updates to new agent if previous agent rejected or missed a contact"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Changing status to logout now correctly logs agent out"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': Rename "Enable Click to Dial?" to "Can Make Outbound Calls?".'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - math function - \u201cMultiply\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - math function - \u201cDivide\u201c"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cGet Tab Object Map\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cClose Salesforce Tab\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cDelay\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cGet Primary Tab Ids\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Improve browser log formatting."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cGet Tabs With Matching Url\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": ",(0,i.kt)("em",{parentName:"li"},"Update Connect agent status when all Salesforce tabs are closed"),": You can set the agent status to a specific state if the SetAgentStatusOnSessionEnd feature is turned on and the agent\u2019s routing profile name includes the value of IfProfileNameIncludes setting, such as \u201cOn-Call.\u201d By default, the agent status is set to \u201cOffline\u201d if the feature is enabled and nothing is specified for IfProfileNameIncludes. If this feature is enabled, the agent will be automatically shown as available when they login to Salesforce and the CCP."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - Length\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': CTI Flow Block - "Slice"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": CTI Flow Block - \u201cCast a Value to a Type\u201d"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Agent is able to accept calls when Medialess is turned on."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': CTI Flow Block - \u201cGet CCP Logs\u201d\nRemove "Initialization" and "Browser" sources'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": Allow users to specify Amazon Connect Instance url in CTI Adapter details in addition to Amazon Connect Instance Alias")),(0,i.kt)("h2",{id:"55-october-2020"},"5.5 October 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': CTI Flow Block - "Clear All Properties"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': CTI Flow Block - "Unset Property"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': CTI Flow Block - "Show All Attributes"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Attributes panel can now display attributes of transferred contacts.")),(0,i.kt)("h2",{id:"54-late-september-2020"},"5.4 Late September 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': You can now provide additional ad-hoc fields to "Create a Task" block. (Note: the values of these fields don\'t have a lookup dropdown yet.)'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can now create "counters" with the "Update Counter" and read the value of your counters using "Get Counter" block.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),": You can now get the number of open tabs from ",(0,i.kt)("inlineCode",{parentName:"li"},"openAgentTabs")," counter."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': You can now compare multiple things using "Is One Of?" block in CTI Flows.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can now extract a value from a complex value, such as an array or an object, using the "Extract Value" block. (This comes handy when you retrieve a Salesforce object.)'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can use the Salesforce retrieve API to fetch a record from the server by id using "Retrieve Salesforce Record" block.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can use the "Get Salesforce Contact Id" to fetch the id of a Salesforce contact by its phone number.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can now show a window alert using "Alert" block.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature"),': New CTI Block! - You can now use create a complex string using string templates and multiple variables with the help of "String Template" block.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': When a screenpop is "deferred," the CTI Block used to return an inexact match and the Id field in the return value of the block would be blank. This issue has been fixed in this release.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Presence sync is working again. The current release also reduces the wait threshold between each presence sync update from 1 second to 100ms, i.e. co-occurring events won't get lost anymore (as much)."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': The encoding issue affecting "SOQL Block" has been fixed. The single quotes in the SOQL query are no longer encoded as HTML entities.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': To access the return value of another block, power users use "magic strings," e.g. ',(0,i.kt)("inlineCode",{parentName:"li"},"\\$.actions.<blockId>.results.<fieldName>"),", but these strings used to be cleared in the UI when the block is selected on the canvas. This issue is now fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": The spelling of ",(0,i.kt)("inlineCode",{parentName:"li"},"TaskSubtype"),' field in "Create a Task" block has been fixed. Your TaskSubtype won\'t get lost anymore.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Call recording view for a Case has been fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': "Is Contact Inbound?" block is working again.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': "Is Truthy?" block now works with boolean input values.'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Salesforce UI onNavigationChange event listener is working again."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': We now alert you to change your instance alias if you try to sign in with instance alias set to "default."')),(0,i.kt)("h2",{id:"53-september-2020"},"5.3 September 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Fix the issue that caused ACSFCCP_CallRecordingTask component to not work.")),(0,i.kt)("h2",{id:"51-late-august-2020"},"5.1 Late August 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Ensure "Get App View" CTI Flow block doesn\'t break the sidebar'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Enhancement"),': Add "queueARN" field to "Dial Number" CTI Flow block'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Ensure some required CTI Flow block fields are not shown as "optional"'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Ensure "Save (or Create) a Record" block works as expected'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Fix the validation error on "CallDurationInSeconds" field in "Create a Task" block'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Fix phantom scrollbar on Windows machines"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Fix issue where copying contact attributes to clipboard doesn't work"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),': Fix issue where "saveLog" CTI Flow block throws an error'),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Fix issue with onOffline Flow event not firing"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Fix various omnichannel presence sync bugs"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": Ensure the CCP default dimensions are adjusted to CCPv2 defaults"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Feature:"),' Add block "Set Agent Status By Name on Connect."')),(0,i.kt)("h2",{id:"50-august-2020"},"5.0 August 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"This release has new features and updates:")," Please test and validate version 5.0 in your Salesforce sandbox before upgrading this in production."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"CTI Flows:")," CTI Flows replace Lightning CTI Extensions in allowing customers to build their agent for Lightning and Classic via a drag drop UI. Many of the CTI blocks are similar to the Lightning CTI Extension script API calls and can be mapped similarly. Lightning CTI Extension scripts are NOT automatically migrated to CTI Flows. When upgrading the with existing scripts, it will give you the option to download the existing script for reference before building your CTI Flows. We strongly recommend you validate this install/upgrade in a test environment and fully test the CTI Flows against your previous scripts functionality. Please open a support ticket if there is additional functionality you require from your current scripting implementation."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Security Profile improvements:")," AC Administrator, AC Agent, and AC Manager permission sets to enforces objects access and fields level (FLS) as per Salesforce security guideline for managed package. To Amazon Connect Objects and fields, user should either one of Amazon Connect permission sets AC Administrator, AC Agent, and AC Manager."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Attributes:")," Amazon Connect CCP (Contact Control Panel) in Lightning Classic now display an overlay for showing attributes consistently."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"AWS Secrets Manager")," support for storing Salesforce credentials."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"VPC Support"),": ability to place Lambdas in VPC"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"New Salesforce API integration:")," Exposed new operations in sfinvokeapi read or create Salesforce records(query queryOne, createChatterPost, createChatterComment, lookup_all, delete)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Upgrade:")," Amazon Connect Streams API bumped up to version 1.5."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," Task creation issue for non connect users - Fixed task trigger apex code, added a validation before security access check for Amazon managed package objects"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," Contact interaction fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Other minor bugfixes and improvements"))),(0,i.kt)("h2",{id:"45-april-2020"},"4.5 April 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"This release has new features and updates:")," Please test and validate version 4.5 in your Salesforce sandbox before upgrading this in production."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Installation / Configuration:")," AC_Administrator permission set has been added to manage CTI Configuration in addition to AC_Manager and AC_Agent. See documentation for further information."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"API:")," Updated support for CCPv2 in Classic/Console. See documentation for Call Center settings."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," Updated attribute display to resolve duplicated attributes."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Security:")," Improved control access at the object-level, the record-level, and at the field level.")),(0,i.kt)("h2",{id:"44-march-2020"},"4.4 March 2020"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"This release has significant new features and updates:")," Please test and validate version 4.4 in your Salesforce sandbox before upgrading this in production."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Documentation:")," Guide has been rewritten and restructured based on feedback."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Installation / Configuration:")," Improved installation and configuration guide"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Installation / Configuration:")," Added Enhanced Agent Logout functionality to Lightning."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"API:")," Updated to the latest Amazon Connect Streams and Chat libraries"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"API:")," Additional extensibility methods provided"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Setup:")," Improved Presence Sync Rule editor"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Setup:")," CTI Adapter validation is performed upon initialization and will inform the user of common misconfigurations."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Setup:")," Additional CTI Script examples are provided."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Setup:")," The ability to place the lightning transcript view on Task, Contact Channel, and Contact Channel Analytics object has been added."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," Updated allowlisting steps to address login popup issue."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," OmniChannel workload data not being usable has been resolved"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," CTI Attribute issue when processing multiple pieces of contact attribute data has been resolved."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," The call transcript now scrolls within a fixed region rather than consuming vertical space."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix:")," Finding Task Record in Classic/Console fixed."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Security:")," The ability to create, update, and delete AC_CtiAdapter, AC_CtiScript, AC_CtiAttribute and AC_PresenceSyncRule records has been removed from the AC_Agent permission set.")),(0,i.kt)("h2",{id:"42-december-2019"},"4.2 December 2019"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"This release has significant new features and updates:")," Please test and validate version 4.2 in your Salesforce sandbox before upgrading this in production."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Installation / Configuration"),": Improved installation and configuration guide"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"API"),": Lightning CCP Extension scripts and reference guide"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Setup"),": A default CTI adapter and scripts for click-to-dial, voice contact pop, and chat contact pop are not included in the base installation."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Editor"),": A more robust script editor is included for use in CTI adapter / script configuration."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Bugfix"),": SSO issue has been resolved")),(0,i.kt)("h2",{id:"41-november-2019"},"4.1 November 2019"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"This release has significant new features and updates:")," Please test and validate version 4.1 in your Salesforce sandbox before upgrading this in production. As we look to simplify documentation, this release introduces a new ",(0,i.kt)("a",{parentName:"li",href:"https://connect-blogs.s3.amazonaws.com/Amazon+Connect+Salesforce+CTI+Adapter/Amazon+Connect+CTI+Adapter+for+Salesforce+Lightning+-+Setup+and+Installation+Guide.pdf"},(0,i.kt)("strong",{parentName:"a"},"Amazon Connect CTI Adapter v4 for Salesforce Lightning"))," setup and installation guide. Please review this setup guide in detail to see all the latest changes for Lightning CTI Adapter installations."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Classic and Console CTI setup guide:")," Please use the ",(0,i.kt)("a",{parentName:"li",href:"https://connect-blogs.s3.amazonaws.com/Amazon+Connect+Salesforce+CTI+Adapter/Amazon+Connect+CTI+Adapter+for+Salesforce+Classic+-+Setup+and+Installation+Guide.pdf"},(0,i.kt)("strong",{parentName:"a"},"Amazon Connect CTI Adapter v4 for Salesforce Classic"))," setup and installation guide for Classic and Console CTI Adapter installations."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Amazon Connect Chat and Contact Control Panel (CCP) v2:")," support for Amazon Connect chat and integration of CCP v2. CCP v2 is required for Lightning CTI Adapter installations. CCP v1 is still supported for Classic / Console CTI Adapter installations."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Historical and Real-Time Reporting:")," updated historical metric functionality with additional metrics and dashboards. Added real-time metrics and dashboards. This functionality requires an update of AWS Serverless Lambda functions for Salesforce."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Lightning CCP Extensions and configuration:")," We have revamped the approach for the Call Center config and have added a new AC CTI Adapters Lighting config page."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"High Velocity Sales:")," CTI Adapter integration supported for Salesforce High Velocity Sales product.")))}d.isMDXComponent=!0}}]);