<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-classic/installation/04-salesforce-lambdas-manual-setup">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Setting Up The Salesforce Lambdas Manually | Amazon Connect Salesforce CTI Adapter</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setting Up The Salesforce Lambdas Manually | Amazon Connect Salesforce CTI Adapter"><meta data-rh="true" name="description" content="Below are manual setup instructions for the Salesforce Lambdas."><meta data-rh="true" property="og:description" content="Below are manual setup instructions for the Salesforce Lambdas."><link data-rh="true" rel="icon" href="/amazon-connect-salesforce-cti/img/favicon.png"><link data-rh="true" rel="canonical" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup" hreflang="en"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UE7MTAXIA1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Amazon Connect Salesforce CTI Adapter" href="/amazon-connect-salesforce-cti/opensearch.xml"><link rel="stylesheet" href="/amazon-connect-salesforce-cti/assets/css/styles.9a505dc2.css">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/runtime~main.bf83d179.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/main.825280b4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/amazon-connect-salesforce-cti/"><div class="navbar__logo"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">v5.23.3</b></a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Lightning</a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Classic</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/other/earlier-versions">Earlier Versions</a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/tree/main/pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PDF<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Notices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/classic/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/introduction/01-key-benefits-and-requirements">Key Benefits and Requirements</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/01-installation">Installing the CTI Adapter and Salesforce Lambdas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/02-guided-setup">Setting Up The CTI Adapter Using Guided Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/03-managed-package-manual-setup">Setting Up The CTI Adapter Managed Package Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup">Setting Up The Salesforce Lambdas Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/05-upgrading-from-an-earlier-version">Upgrading from an Earlier Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/06-cti-adapter-installation-troubleshooting">CTI Adapter Installation Troubleshooting and Common Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">CTI Adapter</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/01-cti-adapter-configuration">CTI Adapter Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/02-omnipresence-agent-state-sync">Omnipresence Agent State Sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/03-contact-attributes-display">Contact Attributes Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/04-call-recording-playback">Call Recording Playback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/05-call-display-account-page">Call Display on the Account Page</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/06-outbound-campaign-calls">Outbound Campaign Calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/07-amazon-connect-reports">Amazon Connect Reports in Salesforce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/08-cti-flows">CTI Flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/09-localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/10-cti-actions">CTI Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/11-recording-controls">Recording Controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration">Chat Widget Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/13-amazonq-integration">Amazon Q Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/14-voice-id">Voice Id</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/15-medialess">Setting up Medialess</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Salesforce Lambdas</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/salesforce-lambdas/01-contact-flow-salesforce-lambdas">Invoking the Amazon Connect Salesforce Lambda in a Contact Flow</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Appendices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-a-cti-flow-sources-and-events/01-cti-flow-sources-and-events">Appendix A: CTI Flow Sources and Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-b-configuring-salesforce-as-your-identity-provider/01-configuring-salesforce-as-your-identity-provider">Appendix B: Configuring Salesforce as Your Identity Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-c-cti-flow-examples/01-cti-flow-examples">Appendix C: CTI Flow Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-d-cti-flow-blocks/01-cti-flow-blocks">Appendix D: CTI Flow Blocks</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/amazon-connect-salesforce-cti/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Setting Up The Salesforce Lambdas Manually</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setting Up The Salesforce Lambdas Manually</h1></header><p>Below are manual setup instructions for the Salesforce Lambdas.</p><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image100.png" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="salesforce-lambda-prerequisites">Salesforce Lambda Prerequisites<a class="hash-link" href="#salesforce-lambda-prerequisites" title="Direct link to heading">​</a></h2><p>Consider the following prerequisites before you install the Lambda
package.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-your-production-environment">Determine your production Environment<a class="hash-link" href="#determine-your-production-environment" title="Direct link to heading">​</a></h3><p>In your installation notes, enter the value for &quot;Production Environment&quot;
as &quot;true&quot; or &quot;false&quot;, depending on whether the Salesforce environment
that you are deploying the package into is a production or a sandbox.
For Production, enter &quot;true&quot;. For Sandbox enter &quot;false&quot;.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-your-consumer-key-and-secret">Determine your Consumer Key and Secret<a class="hash-link" href="#determine-your-consumer-key-and-secret" title="Direct link to heading">​</a></h3><p>To leverage the full potential of the integration, Salesforce data needs
to be accessed from AWS environment. The AWS Serverless package comes
with a set of pre-built queries to lookup, update and create Salesforce
objects within Amazon Connect Contact Flows, in form of AWS Lambda
functions.</p><p>The Lambda function access Salesforce using the Salesforce REST API. To
get access to the environment, a Connected App must be configured with
OAuth settings enabled.</p><ol><li><p>Log in to Salesforce</p></li><li><p>Navigate to Setup <!-- -->&gt;<!-- --> Create <!-- -->&gt;<!-- --> Apps</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image101.png" class="img_ev3q"><ol start="3"><li><p>Click on the &quot;New&quot; button for the Connected Apps at the bottom of the page</p></li><li><p>In the following form, fill out the Connected App Name, API Name and Contact Email with values of your choice. We recommend &quot;Amazon Connect Integration&quot; as the Connected App Name and the default value for the API name.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image102.png" class="img_ev3q"><ol start="5"><li>Select the checkbox next to &quot;Enable OAuth Settings&quot; as shown below.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image103.png" class="img_ev3q"><ol start="6"><li>Set the <strong>Callback URL</strong> to your domain url. Find the domain at <em>Setup</em> -&gt; <em>My Domain</em>.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image293.png" class="img_ev3q"><ol start="7"><li>Ensure Selected OAuth Scopes has the following values selected:</li></ol><p>a.  Access the identity URL service (id, profile, email, address, phone)</p><p>b.  Manage user data via APIs (api)</p><ol start="8"><li>Select the checkbox &quot;Require Secret for Web Server Flow&quot;, and the checkbox &quot;Require Secret For Refresh Token Flow&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/shared/guidedsetup4.png" class="img_ev3q"><ol start="9"><li><p>Click &quot;Save&quot; at the bottom of the screen.</p></li><li><p>Click &quot;Continue&quot; on the next screen</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image107.png" class="img_ev3q"><ol start="11"><li>Once the app has been created, on the app&#x27;s detail screen, please copy the &quot;Consumer Key&quot; value to your installation notes</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image108.png" class="img_ev3q"><ol start="12"><li><p>Select &quot;Click to reveal&quot; next to Consumer Secret and record this value to &quot;Consumer Secret&quot; in your installation notes.</p></li><li><p>Click &quot;Manage&quot; at the top of the page</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image109.png" class="img_ev3q"><ol start="14"><li><p>On the page that appears, click &quot;Edit Policies&quot;</p></li><li><p>Set &quot;Permitted Users&quot; to &quot;Admin approved users are pre-authorizes&quot;</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image110.png" class="img_ev3q"><ol start="16"><li>Click &quot;OK&quot; on the pop-up dialog:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image111.png" class="img_ev3q"><ol start="17"><li>Set &quot;IP Relaxation&quot; to &quot;Relax IP restrictions&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image112.png" class="img_ev3q"><ol start="18"><li>Click &quot;Save&quot;</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="determine-your-username-password-and-security-token">Determine your Username, Password and Security Token<a class="hash-link" href="#determine-your-username-password-and-security-token" title="Direct link to heading">​</a></h3><p>The authentication of the Lambda Functions requires valid user
credentials. It is a common practice to create an API user account for
this purpose.</p><ol><li><p>Log in to Salesforce</p></li><li><p>Navigate to Setup <!-- -->&gt;<!-- --> Manage Users <!-- -->&gt;<!-- --> Profiles</p></li><li><p>Click &quot;New Profile&quot;</p></li><li><p>Enter the Profile Name (i.e. &quot;API Only&quot;)</p></li><li><p>Select the existing profile to clone (The integration user\&#x27;s access to just those objects required for the integration)</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image113.png" class="img_ev3q"><p>NOTE: You\&#x27;re advised to use a full Salesforce License for the user to
be able to set the below permissions and have full access to avoid any
other errors.</p><ol start="6"><li>Click &quot;Save&quot;. A New Profile is created:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image114.png" class="img_ev3q"><ol start="7"><li>Once the new profile page opens, select the <strong>System Permissions</strong> button</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/shared/usersetup1.png" class="img_ev3q"><ol start="8"><li>If the Lightning Experience User checkbox is selected, clear it</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image117.png" class="img_ev3q"><ol start="9"><li><p>Save the system permissions, then go back to Profile Overview</p></li><li><p>Select the <em>Password Policies</em> link, click edit</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/shared/usersetup2.png" class="img_ev3q"><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image115.png" class="img_ev3q"><ol start="11"><li>Set <strong>User password expire in</strong> to <strong>Never expires</strong> <strong>NOTE:</strong> Failure to this may lead to production outages.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image116.png" class="img_ev3q"><ol start="12"><li><p>Select <strong>Save</strong></p></li><li><p>Navigate to Setup <!-- -->&gt;<!-- --> Manage Apps <!-- -->&gt;<!-- --> Connected Apps</p></li><li><p>Select the app you have created in the previous step (i.e. Amazon Connect Integration)</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image118.png" class="img_ev3q"><ol start="15"><li>Click &quot;Manage Profiles&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image119.png" class="img_ev3q"><ol start="16"><li>Ensure the &quot;API Only&quot; profile is selected:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image120.png" class="img_ev3q"><ol start="17"><li><p>Click &quot;Save&quot; at the bottom of the page</p></li><li><p>Navigate to Setup <!-- -->&gt;<!-- --> Manage Users <!-- -->&gt;<!-- --> Users</p></li><li><p>Click &quot;New User&quot;</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image121.png" class="img_ev3q"><ol start="20"><li>Set necessary fields: Last Name, Alias, Email, Username, Nickname</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image122.png" class="img_ev3q"><ol start="21"><li>On the right-hand side, set the User License and Profile</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image123.png" class="img_ev3q"><ol start="22"><li><p>Click &quot;Save&quot;</p></li><li><p>In <strong>Quick Find</strong>, search for &quot;Permission Sets&quot;. Select the <strong>AC_Administrator</strong> permission set.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/lambda-install-0.png" class="img_ev3q"><ol start="24"><li><p>Select <strong>Manage Assignments</strong>. Add the apiuser you just created to the permission set.</p></li><li><p>A confirmation email will be sent, with an activation link. Click the link to activate your user.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image124.png" class="img_ev3q"><p>Change (set) a password for apiuser (Considered a strong that contains
at least 20 random characters):</p><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image125.png" class="img_ev3q"><ol start="26"><li><p>Click &quot;Change Password&quot;</p></li><li><p>Access the apiuser personal settings by selecting the username in the top right corner, then &quot;My Settings&quot;.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image126.png" class="img_ev3q"><ol start="28"><li>Type &quot;Security Token&quot; in the Quick Find box and click &quot;Reset My Security Token&quot;.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image127.png" class="img_ev3q"><ol start="29"><li>Your security token will be emailed to you</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image128.png" class="img_ev3q"><ol start="30"><li>Copy the security token from the email in to your installation notes for the &quot;Access Token&quot; value.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allowing-the-api-user-to-authenticate-using-password">Allowing the API user to authenticate using password<a class="hash-link" href="#allowing-the-api-user-to-authenticate-using-password" title="Direct link to heading">​</a></h3><p>The api user created above authenticates using username-password flow in Salesforce. This flow needs to be unblocked and to do that, go to <em>Setup</em> and in the Quick Find box, search for <strong>OAuth and OpenID Connect Settings</strong>. After that, make sure that the toggles for <strong>Allow OAuth Username-Password Flows</strong> and <strong>Allow OAuth User-Agent Flows</strong> are turned ON, as shown in below image.</p><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image292.png" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="store-salesforce-credentials-in-aws-secrets-manager">Store Salesforce credentials in AWS Secrets Manager<a class="hash-link" href="#store-salesforce-credentials-in-aws-secrets-manager" title="Direct link to heading">​</a></h3><p>To ensure that your Salesforce credentials are secure, the Lambdas
require that the credentials are stored in AWS Secrets Manager. AWS
Secrets Manager is a highly secure service that helps you store and
retrieve secrets.</p><ol><li><p>In a new browser tab, login to the AWS console</p></li><li><p>Make sure you are in the same region as your Amazon Connect
instance. You can set the region by expanding the region selector in
the upper right and choosing the region</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image129.png" class="img_ev3q"><ol start="3"><li><p>Navigate to the <a href="https://console.aws.amazon.com/secretsmanager/home" target="_blank" rel="noopener noreferrer">Secrets Manager
console</a></p></li><li><p>Select <strong>Secrets</strong></p></li><li><p>Select <strong>Store a new secret</strong></p></li><li><p>Select <strong>Other types of secrets</strong></p></li><li><p>Make sure <strong>Secret key/value</strong> is selected</p></li><li><p>Enter key value pairs that match the following:</p><p>a.  <strong>Key:</strong> Password, <strong>Value:</strong> the password for the API user that
you configured in the previous section</p><p>b.  <strong>Key:</strong> ConsumerKey, <strong>Value:</strong> the Consumer Key for the
Connected App you created in the previous section</p><p>c.  <strong>Key:</strong> ConsumerSecret, <strong>Value:</strong> the Consumer Secret for the
Connected App you created in the previous section</p><p>d.  <strong>Key:</strong> AccessToken, <strong>Value:</strong> this is the access token for
the API user that you configured in the previous section</p></li><li><p>For the encryption key, click &quot;Add new key&quot;</p></li><li><p>Select <strong>Create Key</strong></p></li><li><p>Make sure key type is set to <strong>symmetric</strong></p></li><li><p>Give your key an <strong>alias</strong>, like
<em>SalesforceCredentialsSecretsManagerKey</em></p></li><li><p>Click Next</p></li><li><p>Select administrators you want to have access permission to change
the key policy. Make sure you are being as restrictive as possible</p></li><li><p>Click Next</p></li><li><p>Select the users and roles you want to have access to the Salesforce
credentials in Secrets Manager. Make sure you are being as
restrictive as possible</p></li><li><p>Click Next</p></li><li><p>Click Finish</p></li><li><p>Navigate back to the Secrets Manager setup tab</p></li><li><p>Select the key you just created</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image130.png" class="img_ev3q"><ol start="21"><li><p>Click Next</p></li><li><p>Give your secret a name, like <em>SalesforceCredentials</em></p></li><li><p>Click Next</p></li><li><p>Make sure <strong>automatic rotation</strong> is disabled.</p></li><li><p>Click Next</p></li><li><p>Click Store</p></li><li><p>Select the secret you just created, and copy the Secret ARN</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image131.png" class="img_ev3q"><ol start="28"><li>You should now have all of the information you need to install the
package</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-amazon-connect-salesforce-lambda-package">Install the Amazon Connect Salesforce Lambda package<a class="hash-link" href="#install-the-amazon-connect-salesforce-lambda-package" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility-table">Compatibility Table<a class="hash-link" href="#compatibility-table" title="Direct link to heading">​</a></h4><p>The following table instructs users on the best CTI Adapter version to
use with the corresponding lambda version. If a minor version for the CTI Adapter is not
listed (ex. v5.21.1), it will be grouped with with its major version unless otherwise specified</p><table><tr><th>CTI Adapter Version</th><th>Lambda Version</th></tr><tr><td>v5.22</td><td>v5.22</td></tr><tr><td>v5.21</td><td>v5.19 - v5.19.7</td></tr><tr><td>v5.20</td><td>v5.19 - v5.19.7</td></tr><tr><td>v5.19</td><td>v5.19 - v5.19.7</td></tr><tr><td>v5.18</td><td>v5.18</td></tr><tr><td>v5.17</td><td>v5.17</td></tr><tr><td>v5.16</td><td>v5.16</td></tr><tr><td>v5.15</td><td>v5.15</td></tr><tr><td>v5.14</td><td>v5.14</td></tr><tr><td>v5.13</td><td>v5.13</td></tr><tr><td>v5.12</td><td>v5.11 - v5.12</td></tr><tr><td>v5.11</td><td>v5.11 - v5.12</td></tr><tr><td>v5.10</td><td>v5.10</td></tr><tr><td>v5.9</td><td>v5.9</td></tr><tr><td>v5.7</td><td>v5.7 - v5.8</td></tr><tr><td>v5.6</td><td>v5.7 - v5.8</td></tr></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="instructions">Instructions<a class="hash-link" href="#instructions" title="Direct link to heading">​</a></h4><ol><li><p>Login into your AWS Account</p></li><li><p>Navigate AWS Serverless Application Repository
(<a href="https://aws.amazon.com/serverless/serverlessrepo/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/serverless/serverlessrepo/</a>)</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image132.png" class="img_ev3q"><ol start="3"><li>Click on the Search (magnifying glass) and type in Amazon Connect
Salesforce.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image133.png" class="img_ev3q"><ol start="4"><li>Select AmazonConnectSalesForceLambdas and click &quot;Deploy&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image134.png" class="img_ev3q"><ol start="5"><li>Fill in all Salesforce related fields in &quot;Configure application
parameters&quot;.\
All values should be available in your installation notes:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image135.png" class="img_ev3q"><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image136.png" class="img_ev3q"><ol start="6"><li><p>The Lambda package includes additional features which can be enabled
or disabled, based on particular use-case:</p><ol><li><p><strong>Application name:</strong> You can accept the default here or change
it as desired</p></li><li><p><strong>AmazonConnectInstanceId:</strong> You Amazon Connect Instance Id.
Only required if you enable real time reporting</p></li><li><p><strong>CTRKinesisARN:</strong> This is the ARN for the Kinesis stream that
was configured for Contact Trace Record streaming in Amazon
Connect. This is the complete ARN. Amazon Kinesis Firehose is
not supported.</p></li><li><p><strong>ConnectReportingS3BucketName:</strong> This is the name of the S3
bucket used to store exported reports for your Amazon Connect
instance. This is ONLY the bucket name, no sub-folders or
suffixes</p></li><li><p><strong>HistoricalReportingImportEnabled:</strong> true <!-- -->|<!-- --> false - if set to
true, the package will include a feature to import Amazon
Connect Queue and Agent Historical Metrics into your Salesforce
Org. This feature requires you to provide
<strong>ConnectReportingS3BucketName</strong></p></li><li><p><strong>LambdaLoggingLevel:</strong> DEBUG <!-- -->|<!-- --> INFO <!-- -->|<!-- --> WARNING <!-- -->|<!-- --> ERROR <!-- -->|<!-- -->
CRITICAL - Logging level for Lambda functions</p></li><li><p><strong>PrivateVpcEnabled:</strong> Set to true if functions should be
deployed to a private VPC. Set VpcSecurityGroupList and
VpcSubnetList if this is set to true.</p></li><li><p><strong>RealtimeReportingImportEnabled:</strong> true <!-- -->|<!-- --> false - if set to
true, the package will include a feature to publish Amazon
Connect Queue Metrics into your Salesforce Org. This feature
requires you to provide <strong>AmazonConnectInstanceId</strong></p></li><li><p><strong>SalesforceAdapterNamespace:</strong> This is the namespace for CTI
Adapter managed package. The default value is <strong>amazonconnect</strong>.
If a non-managed package is used, leave this field blank.</p></li><li><p><strong>SalesforceCredentialsKMSKeyARN:</strong> This is the ARN for KMS
customer managed key that you created in the previous section.</p></li><li><p><strong>SalesforceCredentialsSecretsManagerARN:</strong> This is the ARN for
the Secrets Manager Secret that you created in the previous
section.</p></li><li><p><strong>SalesforceHost:</strong> The full domain for your salesforce org. For
example
<code>https://mydevorg-dev-ed.my.salesforce.com</code>.
Please make sure that the host starts with <code>https</code>, and that the url
ends with <code>.my.salesforce.com</code>. This url can be found in <code>Setup</code> -&gt; <code>My Domain</code>.</p></li><li><p><strong>SalesforceProduction:</strong> true <!-- -->|<!-- --> false - True for Production
Environment, False for Sandbox</p></li><li><p><strong>SalesforceUsername:</strong> The username for the API user that you
configured in the previous section. Salesforce usernames are in the form of an email address.</p></li><li><p><strong>SalesforceVersion:</strong> This is the Salesforce.com API version
that you noted in the previous section. The pattern of this value is <code>vXX.X</code>.</p></li><li><p><strong>TranscribeOutputS3BucketName:</strong> This is the S3 bucket where
Amazon Transcribe stores the output. Typically, this is the same
bucket that call recordings are stored in, so you can use the
same value as found in <strong>ConnectRecordingS3BucketName</strong>. Not
required if PostcallRecordingImportEnabled,
PostcallTranscribeEnabled, ContactLensImportEnabled set to false.</p></li><li><p><strong>VpcSecurityGroupList:</strong> The list of SecurityGroupIds for
Virtual Private Cloud (VPC). Not required if PrivateVpcEnabled
is set to false.</p></li><li><p><strong>VpcSubnetList:</strong> The list of Subnets for the Virtual Private
Cloud (VPC). Not required if PrivateVpcEnabled is set to false.</p></li><li><p><strong>AmazonConnectQueueMaxRecords:</strong> Enter record set size for list
queue query. Max is 100.</p></li><li><p><strong>AmazonConnectQueueMetricsMaxRecords:</strong> Enter record set size
for queue metrics query. Max is 100.</p></li><li><p><strong>CTREventSourceMappingMaximumRetryAttempts:</strong> Maximum retry
attempts on failure for lambdas triggered by Kinesis Events.</p></li><li><p><strong>ConnectRecordingS3BucketName:</strong> This is the name of the S3
bucket used to store recordings for your Amazon Connect
instance. This is ONLY the bucket name, no sub-folders or
suffixes</p></li><li><p><strong>ContactLensImportEnabled:</strong> true <!-- -->|<!-- --> false - Set to false if
importing Contact Lens into Salesforce should not be enabled.</p></li><li><p><strong>PostcallCTRImportEnabled:</strong> true <!-- -->|<!-- --> false - Set to false if
importing CTRs into Salesforce should not be enabled on the
package level. This setting can be disabled on a call-by-call
basis.</p></li><li><p><strong>PostcallRecordingImportEnabled:</strong> true <!-- -->|<!-- --> false - Set to false
if importing call recordings into Salesforce should not be
enabled on the package level. This setting can be disabled on a
call-by-call basis.</p></li><li><p><strong>PostcallTranscribeEnabled:</strong> true <!-- -->|<!-- --> false - Set to false if
post-call transcription should not be enabled on the package
level. This setting can be disabled on a call-by-call basis.</p></li><li><p><strong>TranscriptionJobCheckWaitTime:</strong> Time between transcription
job checks</p></li></ol></li><li><p>Once completed, click &quot;Deploy&quot; function:</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image137.png" class="img_ev3q"><ol start="8"><li>The package provides a single Lambda function (sfInvokeAPI) that
supports multiple operations, like lookup, create and update. For
the initial validation, sample events are provided within the
function. Click on the function name and check the list of files in
the editor.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image138.png" class="img_ev3q"><ol start="9"><li>To validate a phone number lookup, double-click on
event-phoneLookup.json file and copy the text in your clipboard.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image139.png" class="img_ev3q"><ol start="10"><li>In the top-right corner, click the drop-down arrow next to the
&quot;Test&quot; button and select &quot;Configure test events&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image140.png" class="img_ev3q"><ol start="11"><li>Select &quot;Create new test event&quot;, set Event name (i.e. phoneLookup)
and paste the JSON payload you&#x27;ve copied in the previous step.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image141.png" class="img_ev3q"><ol start="12"><li><p>Click &quot;Create&quot; button</p></li><li><p>From the drop-down list, select your &quot;eventLookup&quot; and click &quot;Test&quot;
button</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image142.png" class="img_ev3q"><ol start="14"><li>If successful, the result will contain fields defined in &quot;sf_fields&quot;
parameter in the invocation event</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image143.png" class="img_ev3q"><ol start="15"><li>As a next step, we are going to use the ContactId provided and
create a Case in Salesforce. Double-click on &quot;event-create.json&quot;
file and set the ContactId value from the previous step. Copy the
JSON text into your clipboard.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image144.png" class="img_ev3q"><ol start="16"><li>In the top-right corner, click the drop-down arrow next to the
&quot;Test&quot; button and select &quot;Configure test events&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image145.png" class="img_ev3q"><ol start="17"><li>Select &quot;Create new test event&quot;, set Event name (i.e. createCase) and
paste the JSON payload you&#x27;ve copied in the previous step.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image146.png" class="img_ev3q"><ol start="18"><li><p>Click &quot;Create&quot; button</p></li><li><p>From the drop-down list, select your &quot;createCase&quot; and click &quot;Test&quot;
button</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image147.png" class="img_ev3q"><ol start="20"><li>If successful, the result will contain a Case Id for newly created
case:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image148.png" class="img_ev3q"><ol start="21"><li>As defined in the event payload, Status is &quot;New&quot; and Priority is
&quot;Low&quot;. We are going to use the update operation to close the case.
Copy the Case Id provided in the previous step, then double-click on
&quot;event-update.json&quot; file and paste the Case Id in &quot;sf_id&quot; parameter:</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image149.png" class="img_ev3q"><ol start="22"><li>In the top-right corner, click the drop-down arrow next to the
&quot;Test&quot; button and select &quot;Configure test events&quot;</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image150.png" class="img_ev3q"><ol start="23"><li>Select &quot;Create new test event&quot;, set Event name (i.e. closeCase) and
paste the JSON payload you&#x27;ve copied in the previous step.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image151.png" class="img_ev3q"><ol start="24"><li><p>Click &quot;Create&quot; button</p></li><li><p>From the drop-down list, select your &quot;closeCase&quot; and click &quot;Test&quot;
button</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image152.png" class="img_ev3q"><ol start="26"><li>If successful, the result will be HTTP code 204 (&quot;No Content&quot;
success code):</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/image153.png" class="img_ev3q"><ol start="27"><li>Login in to Salesforce and search for Case and it&#x27;s details. The
Case status should be &quot;Closed&quot;.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/classic/02-installation/04-salesforce-lambdas-manual-setup.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/amazon-connect-salesforce-cti/docs/classic/installation/03-managed-package-manual-setup"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Setting Up The CTI Adapter Managed Package Manually</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/amazon-connect-salesforce-cti/docs/classic/installation/05-upgrading-from-an-earlier-version"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Upgrading from an Earlier Version</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#salesforce-lambda-prerequisites" class="table-of-contents__link toc-highlight">Salesforce Lambda Prerequisites</a><ul><li><a href="#determine-your-production-environment" class="table-of-contents__link toc-highlight">Determine your production Environment</a></li><li><a href="#determine-your-consumer-key-and-secret" class="table-of-contents__link toc-highlight">Determine your Consumer Key and Secret</a></li><li><a href="#determine-your-username-password-and-security-token" class="table-of-contents__link toc-highlight">Determine your Username, Password and Security Token</a></li><li><a href="#allowing-the-api-user-to-authenticate-using-password" class="table-of-contents__link toc-highlight">Allowing the API user to authenticate using password</a></li><li><a href="#store-salesforce-credentials-in-aws-secrets-manager" class="table-of-contents__link toc-highlight">Store Salesforce credentials in AWS Secrets Manager</a></li></ul></li><li><a href="#install-the-amazon-connect-salesforce-lambda-package" class="table-of-contents__link toc-highlight">Install the Amazon Connect Salesforce Lambda package</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/amazon-connect-salesforce-cti/assets/js/runtime~main.bf83d179.js"></script>
<script src="/amazon-connect-salesforce-cti/assets/js/main.825280b4.js"></script>
</body>
</html>