<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-classic/cti-adapter/12-chat-widget-integration">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Chat Widget Integration | Amazon Connect Salesforce CTI Adapter</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chat Widget Integration | Amazon Connect Salesforce CTI Adapter"><meta data-rh="true" name="description" content="SalesForce Experience Cloud allows you to setup a website for your customers easily, with the included template, you can setup a help center, or a customer service website with just a few clicks. Amazon Connect CTI Adapter now provides you a chat-widget component, and you can use it in the Experience Cloud Builder App to add the Amazon Connect Chat Widget to any page you want."><meta data-rh="true" property="og:description" content="SalesForce Experience Cloud allows you to setup a website for your customers easily, with the included template, you can setup a help center, or a customer service website with just a few clicks. Amazon Connect CTI Adapter now provides you a chat-widget component, and you can use it in the Experience Cloud Builder App to add the Amazon Connect Chat Widget to any page you want."><link data-rh="true" rel="icon" href="/amazon-connect-salesforce-cti/img/favicon.png"><link data-rh="true" rel="canonical" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UE7MTAXIA1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Amazon Connect Salesforce CTI Adapter" href="/amazon-connect-salesforce-cti/opensearch.xml"><link rel="stylesheet" href="/amazon-connect-salesforce-cti/assets/css/styles.fb67a301.css">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/runtime~main.c504f931.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/main.556bfbd7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/amazon-connect-salesforce-cti/"><div class="navbar__logo"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">v5.28</b></a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Lightning</a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Classic</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/other/earlier-versions">Earlier Versions</a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/tree/main/pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PDF<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Notices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/classic/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/introduction/01-key-benefits-and-requirements">Key Benefits and Requirements</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/01-installation">Installing the CTI Adapter and Salesforce Lambdas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/02-guided-setup">Setting Up The CTI Adapter Using Guided Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/03-managed-package-manual-setup">Setting Up The CTI Adapter Managed Package Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/04-salesforce-lambdas-manual-setup">Setting Up The Salesforce Lambdas Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/05-upgrading-from-an-earlier-version">Upgrading from an Earlier Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/installation/06-cti-adapter-installation-troubleshooting">CTI Adapter Installation Troubleshooting and Common Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">CTI Adapter</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/01-cti-adapter-configuration">CTI Adapter Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/02-omnipresence-agent-state-sync">Omnipresence Agent State Sync</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/03-contact-attributes-display">Contact Attributes Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/04-call-recording-playback">Call Recording Playback</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/05-call-display-account-page">Call Display on the Account Page</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/06-outbound-campaign-calls">Outbound Campaign Calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/07-amazon-connect-reports">Amazon Connect Reports in Salesforce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/08-cti-flows">CTI Flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/09-localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/10-cti-actions">CTI Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/11-recording-controls">Recording Controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration">Chat Widget Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/13-amazonq-integration">Amazon Q Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/14-voice-id">Voice Id</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/15-medialess">Setting up Medialess</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/16-global-resiliency">Global Resiliency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/17-mini-lightning-adapter">Mini Lightning Adapter</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Salesforce Lambdas</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/salesforce-lambdas/01-contact-flow-salesforce-lambdas">Invoking the Amazon Connect Salesforce Lambda in a Contact Flow</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Appendices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-a-cti-flow-sources-and-events/01-cti-flow-sources-and-events">Appendix A: CTI Flow Sources and Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-b-configuring-salesforce-as-your-identity-provider/01-configuring-salesforce-as-your-identity-provider">Appendix B: Configuring Salesforce as Your Identity Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-c-cti-flow-examples/01-cti-flow-examples">Appendix C: CTI Flow Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/classic/appendices/appendix-d-cti-flow-blocks/01-cti-flow-blocks">Appendix D: CTI Flow Blocks</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/amazon-connect-salesforce-cti/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">CTI Adapter</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Chat Widget Integration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chat Widget Integration</h1></header><p>SalesForce Experience Cloud allows you to setup a website for your customers easily, with the included template, you can setup a help center, or a customer service website with just a few clicks. Amazon Connect CTI Adapter now provides you a chat-widget component, and you can use it in the Experience Cloud Builder App to add the Amazon Connect Chat Widget to any page you want. </p><p>The screenshot below shows an example of having the chat widget added to a help center website. Please note that this feature does not support <strong>Build Your Own(LWR)</strong> and <strong>Salesforce Tabs + Visualforce</strong> template.</p><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(10).png" class="img_ev3q">To start using this feature, you can either follow the steps below to setup an Experience Cloud Site for testing purpose, or you can skip to the next section if you are already familiar with SalesForce Experience Cloud.<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-experience-cloud-site">Setup Experience Cloud Site:<a class="hash-link" href="#setup-experience-cloud-site" title="Direct link to heading">​</a></h2><ul><li>Go to Setup</li><li>Search for Digital Experience</li><li>Enable Digital Experience</li><li>Create a new Site by clicking New button<img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/chatwidget-(0).png" class="img_ev3q"></li><li>Choose Help center template to create a new site<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(0).png" class="img_ev3q"></li><li>Go to Builder of the new site<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(1).png" class="img_ev3q"></li><li>This will be the place to setup chat widget feature in the following sections. You can get yourself familiar with this Builder before moving to the next section.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-chat-widget-in-amazon-connect">Setup Chat Widget in Amazon Connect<a class="hash-link" href="#setup-chat-widget-in-amazon-connect" title="Direct link to heading">​</a></h2><ul><li>Follow instructions <a href="https://docs.aws.amazon.com/connect/latest/adminguide/add-chat-to-website.html" target="_blank" rel="noopener noreferrer">here</a> to setup your Chat Widget and copy the script to a text editor.</li><li>Example of Script:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  (function(w, d, x, id){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    s=d.createElement(&#x27;script&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    s.src=&#x27;https://dg9yx063wiiht.cloudfront.net/amazon-connect-chat-interface-client.js&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    s.async=1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    s.id=id;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    d.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(s);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    w[x] =  w[x] || function() { (w[x].ac = w[x].ac || []).push(arguments) };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })(window, document, &#x27;amazon_connect&#x27;, &#x27;5338d219-92c7-427e-8b10-26a8f4dfb3d1&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amazon_connect(&#x27;styles&#x27;, { openChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#826359&#x27;}, closeChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#940eb9&#x27;} });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amazon_connect(&#x27;snippetId&#x27;, &#x27;QVFJREFIaUpTVGJkNWhNc0Q1WHpHYnFQTkJyYXN0.....=&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  amazon_connect(&#x27;supportedMessagingContentTypes&#x27;, [ &#x27;text/plain&#x27;, &#x27;text/markdown&#x27; ]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Example Call back function for JWT</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">amazon_connect(&#x27;authenticate&#x27;, function(callback) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  window.fetch(&#x27;https://www.yourdomain.com/yourAuthEndpoint&#x27;).then(res =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    res.json().then(data =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      callback(data.data);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-required-visualforce-pages">Create Required Visualforce Pages<a class="hash-link" href="#create-required-visualforce-pages" title="Direct link to heading">​</a></h2><ul><li>Navigate to the Salesforce Setup by clicking on the gear icon in the top-right corner of the page.</li><li>In the Setup menu, search for &quot;Visualforce Pages&quot; in the quick find box and click on that.</li><li>On the &quot;Visualforce Pages&quot; page, click on the &quot;New&quot; button.</li><li>According to Security selected above in  Amazon Connect Chat Widget website:<ul><li>If Enabled: Provide name like &quot;AC_ChatWidgetWithJWT&quot; in the &quot;Label&quot; field &amp; &quot;Name&quot; field for your Visualforce page.</li><li>If Disabled:  Provide name like &quot;AC_ChatWidget&quot; in the &quot;Label&quot; field &amp; &quot;Name&quot; field for your Visualforce page. </li><li><em>Note: Going forward in documentation, Use the same name which you mention here in place of &quot;AC_ChatWidgetWithJWT&quot; or &quot;AC_ChatWidget&quot;.</em></li></ul></li><li>Check the box front of &quot;Available for Lightning Experience, Experience Builder sites, and the mobile app&quot; field.</li><li>Copy the below snippet in text editor and replace comments with mentioned script copied from <!-- -->[here]<!-- -->(/amazon-connect-salesforce-cti/docs/classic/cti-adapter/12-chat-widget-integration#Setup Chat Widget in Amazon Connect).<ul><li>For &quot;AC_ChatWidgetWithJWT&quot; Visual force page:</li></ul></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;apex:page id=&quot;AC_ChatWidgetWithJWT&quot; showHeader=&quot;false&quot; sideBar=&quot;false&quot; docType=&quot;html-5.0&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;html xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;apex:slds /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;!-- Add Chat widget script here --&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;!-- Add Call back function for JWT here --&gt;  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/html&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/apex:page&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;apex:page id=&quot;AC_ChatWidgetWithJWT&quot; showHeader=&quot;false&quot; sideBar=&quot;false&quot; docType=&quot;html-5.0&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;html xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;apex:slds /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;!-- Add Chat widget script here --&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (function(w, d, x, id){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s=d.createElement(&#x27;script&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.src=&#x27;https://dg9yx063wiiht.cloudfront.net/amazon-connect-chat-interface-client.js&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.async=1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.id=id;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        d.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(s);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        w[x] =  w[x] || function() { (w[x].ac = w[x].ac || []).push(arguments) };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })(window, document, &#x27;amazon_connect&#x27;, &#x27;5338d219-92c7-427e-8b10-26a8f4dfb3d1&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;styles&#x27;, { openChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#826359&#x27;}, closeChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#940eb9&#x27;} });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;snippetId&#x27;, &#x27;QVFJREFIaUpTVGJkNWhNc0Q1WHpHYnFQTkJyYXN0.....=&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;supportedMessagingContentTypes&#x27;, [ &#x27;text/plain&#x27;, &#x27;text/markdown&#x27; ]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;!-- Add Call back function for JWT here --&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;authenticate&#x27;, function(callback) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        window.fetch(&#x27;https://www.yourdomain.com/yourAuthEndpoint&#x27;).then(res =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          res.json().then(data =&gt; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            callback(data.data);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/html&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/apex:page&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>For &quot;AC_ChatWidget&quot; Visual force page:</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;apex:page id=&quot;AC_ChatWidget&quot; showHeader=&quot;false&quot; sideBar=&quot;false&quot; docType=&quot;html-5.0&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;html xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;apex:slds /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;!-- Add Chat widget script here --&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/script&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/html&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/apex:page&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;apex:page id=&quot;AC_ChatWidget&quot; showHeader=&quot;false&quot; sideBar=&quot;false&quot; docType=&quot;html-5.0&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;html xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; lang=&quot;en&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;apex:slds /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta charset=&quot;utf-8&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &lt;!-- Add Chat widget script here --&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      (function(w, d, x, id){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s=d.createElement(&#x27;script&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.src=&#x27;https://dg9yx063wiiht.cloudfront.net/amazon-connect-chat-interface-client.js&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.async=1;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        s.id=id;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        d.getElementsByTagName(&#x27;head&#x27;)[0].appendChild(s);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        w[x] =  w[x] || function() { (w[x].ac = w[x].ac || []).push(arguments) };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })(window, document, &#x27;amazon_connect&#x27;, &#x27;5338d219-92c7-427e-8b10-26a8f4dfb3d1&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;styles&#x27;, { openChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#826359&#x27;}, closeChat: { color: &#x27;white&#x27;, backgroundColor: &#x27;#940eb9&#x27;} });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;snippetId&#x27;, &#x27;QVFJREFIaUpTVGJkNWhNc0Q1WHpHYnFQTkJyYXN0.....=&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      amazon_connect(&#x27;supportedMessagingContentTypes&#x27;, [ &#x27;text/plain&#x27;, &#x27;text/markdown&#x27; ]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/head&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &lt;/html&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/apex:page&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Final page should look like below image. Click on Save button. <img loading="lazy" src="/amazon-connect-salesforce-cti/img/classic/chatwidget-(18).png" class="img_ev3q"></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-chat-widget-for-your-experience-cloud-sites">Setup Chat Widget for your Experience Cloud Sites.<a class="hash-link" href="#setup-chat-widget-for-your-experience-cloud-sites" title="Direct link to heading">​</a></h2><ul><li>Option 1: Setting up using out-of-box VisualForce page. Choose this if you need the chat widget only on one specific page. </li><li>Option 2: Setting up using Lightning Component based on VisualForce page. Choose this if you need the chat widget only on one specific page but you don’t have the license for the VisualForce page component in the experience cloud builder. It is a workaround for Option1.</li><li>Option 3: Setting up using custom header. Choose this if you want the chat widget exists across all pages.</li></ul><p><strong>Option 1: Setting up using VisualForce page.</strong></p><ul><li>Go to Setup</li><li>Go to VisualForce page</li><li>Select AC_ChatWidget</li><li>Click Preview</li><li>You should see a chat icon on the right bottom corner. If not, check browser console for error messages</li><li>Copy the AC_ChatWidget visualforce page URL.</li><li>Go to your Experience Cloud Builder<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(2).png" class="img_ev3q"></li><li>Open Components<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(3).png" class="img_ev3q"></li><li>Drag and drop Visualforce Page to your page. If you didn’t enable chat widget security, you need to change the Visualforce Page Name to AC_ChatWidget. If you enabled security for ChatWidget, change it to AC_ChatWidgetWithJWT<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(4).png" class="img_ev3q"></li><li>Go to Settings→General→Guest User Profile and click in to the Guest User Profile<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(5).png" class="img_ev3q"></li><li>Inside Guest user profile, go to Enabled Visualforce Page Access</li><li>Add &quot;AC_ChatWidget&quot; ( or &quot;AC_ChatWidgetWithJWT&quot; if you have enabled security for chat widget)<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(6).png" class="img_ev3q"></li><li>Click Save</li><li>Click Publish button on the top right to publish the website<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(8).png" class="img_ev3q"></li><li>Copy the published website URL in Settings→Published Status</li><li>Go back to Amazon Connect Chat Widget website, add following url to the allow-list Domains:<ul><li>The AC_ChatWidget visualforce page URL, remove everything after .com</li><li>The published website URL to chat widget allow-list origin, remove everything after .com</li></ul></li><li>Go to Setup→Sharing Settings. Search for AC CTI Adapter Sharing Rules. Create a new Rule for Guest user so that they have the object access. Make sure in Step2 the Rule Type is Guest user access, the Steps 3 you put a proper criteria, for testing purpose you can put CTI Adapter Name not equal to 1. In Step 4 Share with the Guest user profile of the community website you are working on, and change the Access level to Read Only<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(9).png" class="img_ev3q"></li></ul><p><strong><em> Verify the change:</em></strong>
Open your published website in a incognito window, you should be able to use chat widget to chat as a customer and chat to your agent without login
Note: If you want to setup chat widget for authorized user group only, you could change the settings to the guest profile to the authorized user profile.</p><p><strong>Option 2: Setting up using out-of-box Lightning Component.</strong></p><ul><li>Go to Setup</li><li>Go to VisualForce page</li><li>Select AC_ChatWidget</li><li>Click Preview</li><li>You should see a chat icon on the right bottom corner. If not, check browser console for error messages</li><li>Copy the AC_ChatWidget visualforce page URL.</li><li>Go to your Experience Cloud Builder<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(2).png" class="img_ev3q"></li><li>Open Components<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(3).png" class="img_ev3q"></li><li>Drag and drop iFrame Component to your page<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(12).png" class="img_ev3q"></li><li>Change Chat Widget URL to <code> &lt;your-website-domain&gt;/AC_ChatWidget</code> if you did not enable the security for the chat widget. If you have enabled security, change it to <code> &lt;your-website-domain&gt;/AC_ChatWidgetWithJWT</code><ul><li>You will have the website domain once it is published. The URL is in Settings→General→Published Status, and the part from <code>https</code> to <code>.com</code> is your website domain. If you haven’t published it yet, you can update it once it is published and re-publish the website.</li><li>If you have site name, you need to append <code>/&lt;site-name&gt;</code> after your domain name. For example if the published website is <code>demo-developer-edition.na111.force.com/testing/s/</code>, your Chat Widget URL should be: <ul><li>If security disabled --&gt; <code>demo-developer-edition.na111.force.com/testing/AC_ChatWidget</code></li><li>If security enabled --&gt; <code>demo-developer-edition.na111.force.com/testing/AC_ChatWidgetWithJWT</code></li></ul></li></ul></li><li>Go to Settings→General→Guest User Profile and click in to the Guest User Profile<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(5).png" class="img_ev3q"></li><li>Inside Guest user profile, go to Enabled Visualforce Page Access</li><li>Add AC_ChatWidget( or AC_ChatWidgetWithJWT if you have enabled security for chat widget)<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(6).png" class="img_ev3q"></li><li>Click Save</li><li>Click Publish button on the top right to publish the website<img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/chatwidget-(8).png" class="img_ev3q"></li><li>Copy the published website URL in Settings→Published Status</li><li>Go back to Amazon Connect Chat Widget website, add following url to the allow-list Domains:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">* The AC_ChatWidget visualforce page URL, remove everything after .com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* The published website URL to chat widget allow-list origin, remove everything after .com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><strong><em> Verify the change:</em></strong>
Open your published website in a incognito window, you should be able to use chat widget to chat as a customer and chat to your agent without login
</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trigger-multi-contact-chat-events">Trigger multi-contact chat events<a class="hash-link" href="#trigger-multi-contact-chat-events" title="Direct link to heading">​</a></h2><p>The Amazon Connect CTI Adapter enables Agents concurrently managing multiple Chat contacts efficiently. In the process of handling multiple chat contacts, agents need to switch between these chat contacts, and they will be able to trigger events on the selected contact.</p><p>The Amazon Connect CTI Adapter provides a CTI Flow Event called &quot;onViewContact&quot; specifically designed for the &quot;Amazon Connect Chat Contact&quot; CTI Flow Source. It is available in versions v5.22+. With this event, when agents navigate between multiple chat contacts, the associated CTI Flow can be triggered. For example, a CTI Flow attached to Source : &quot;Amazon Connect Chat Contact&quot; | Event : &quot;onViewContact&quot; can be enabled to execute a ScreenPop action, revealing a related Salesforce object linked to the active Chat contact. Consequently, as agents switch between Chat contacts, the respective object for the ongoing chat will automatically open in the background within the Salesforce window. This functionality serves as a valuable identifier for the currently active Chat contact, enhancing the agent&#x27;s workflow and efficiency.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a class="hash-link" href="#recommendations" title="Direct link to heading">​</a></h3><ul><li>It&#x27;s essential to acknowledge that the &quot;onViewContact&quot; event can be triggered multiple times during the lifecycle of a single Chat contact.</li><li>The advisable practice is to utilize only ScreenPop CTI Flow blocks within the CTI Flow associated with the &quot;onViewContact&quot; event. <ul><li>Examples of CTI Flow blocks include:  Screenpop Object, Screenpop Object Home, Screenpop Search, Search And Screenpop</li></ul></li><li>Additionally, it is best to avoid using any CTI Flow block that creates Salesforce objects, as it can result in the creation of multiple objects for a single contact during its lifecycle.</li><li>The CTI Flow connected to the &quot;onViewContact&quot; CTI Flow Event is only activated after the Chat contact is in &quot;Connected&quot; Contact state. As a result, it is preferable to create and screen-pop the Salesforce object during the initial connection phase using the &quot;onConnecting&quot; or &quot;onConnected&quot; CTI Flow events. Subsequently, leverage the &quot;onViewContact&quot; CTI Flow Event to screen-pop Salesforce objects when switching between multiple connected Chat contacts. Please find the example attached in below Section.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-use">Example Use<a class="hash-link" href="#example-use" title="Direct link to heading">​</a></h3><ul><li>Log into your Salesforce instance and open the relevant AC CTI Adapter.</li><li>Configure CTI Flow:<ul><li>Source: “Amazon Connect Chat Contact” | Event: “onConnected” -  SalesforceContactCreation.json </li><li>Source: “Amazon Connect Chat Contact” | Event: “onViewContact” -ScreenPopContact-MultiChat.json </li></ul></li><li>Agent Experience: <ul><li>Agents receives a new Chat contact.</li><li>Agent clicks on “Accept Chat” and contact is in “Connected” State.</li><li>CTI Flow attached to “onConnected” CTI Flow events is triggered and it creates Salesforce contact record with contactId as name and ScreenPop it.</li><li>Agent switches from one Chat contact to another, CTI Flow attached to “onViewContact” is triggered and it screenPops the relevant Salesforce Contact record of that visible Chat Contact.</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/classic/03-cti-adapter/12-chat-widget-integration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/11-recording-controls"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Recording Controls</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/amazon-connect-salesforce-cti/docs/classic/cti-adapter/13-amazonq-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Amazon Q Integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-experience-cloud-site" class="table-of-contents__link toc-highlight">Setup Experience Cloud Site:</a></li><li><a href="#setup-chat-widget-in-amazon-connect" class="table-of-contents__link toc-highlight">Setup Chat Widget in Amazon Connect</a></li><li><a href="#create-required-visualforce-pages" class="table-of-contents__link toc-highlight">Create Required Visualforce Pages</a></li><li><a href="#setup-chat-widget-for-your-experience-cloud-sites" class="table-of-contents__link toc-highlight">Setup Chat Widget for your Experience Cloud Sites.</a></li><li><a href="#trigger-multi-contact-chat-events" class="table-of-contents__link toc-highlight">Trigger multi-contact chat events</a><ul><li><a href="#recommendations" class="table-of-contents__link toc-highlight">Recommendations</a></li><li><a href="#example-use" class="table-of-contents__link toc-highlight">Example Use</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/amazon-connect-salesforce-cti/assets/js/runtime~main.c504f931.js"></script>
<script src="/amazon-connect-salesforce-cti/assets/js/main.556bfbd7.js"></script>
</body>
</html>