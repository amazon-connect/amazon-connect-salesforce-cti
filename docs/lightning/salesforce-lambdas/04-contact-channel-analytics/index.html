<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-lightning/salesforce-lambdas/04-contact-channel-analytics">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Contact Channel Analytics | Amazon Connect Salesforce CTI Adapter</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/04-contact-channel-analytics"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Contact Channel Analytics | Amazon Connect Salesforce CTI Adapter"><meta data-rh="true" name="description" content="In addition to the CTI adapter&#x27;s native ability to provide direct"><meta data-rh="true" property="og:description" content="In addition to the CTI adapter&#x27;s native ability to provide direct"><link data-rh="true" rel="icon" href="/amazon-connect-salesforce-cti/img/favicon.png"><link data-rh="true" rel="canonical" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/04-contact-channel-analytics"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/04-contact-channel-analytics" hreflang="en"><link data-rh="true" rel="alternate" href="https://amazon-connect.github.io/amazon-connect-salesforce-cti//amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/04-contact-channel-analytics" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UE7MTAXIA1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Amazon Connect Salesforce CTI Adapter" href="/amazon-connect-salesforce-cti/opensearch.xml"><link rel="stylesheet" href="/amazon-connect-salesforce-cti/assets/css/styles.fb67a301.css">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/runtime~main.b6dcc330.js" as="script">
<link rel="preload" href="/amazon-connect-salesforce-cti/assets/js/main.5b32cd97.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/amazon-connect-salesforce-cti/"><div class="navbar__logo"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/amazon-connect-salesforce-cti/img/logo.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">v5.24</b></a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Lightning</a><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/classic/notices">Classic</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/amazon-connect-salesforce-cti/docs/other/earlier-versions">Earlier Versions</a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/tree/main/pdf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PDF<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/notices">Notices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/amazon-connect-salesforce-cti/docs/lightning/introduction/01-key-benefits">Key Benefits and Requirements</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/01-installation">Installing the CTI Adapter and Salesforce Lambdas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/02-guided-setup">Setting Up The CTI Adapter Using Guided Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/03-managed-package-manual-setup">Setting Up The CTI Adapter Managed Package Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/04-salesforce-lambdas-manual-setup">Setting Up The Salesforce Lambdas Manually</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/05-upgrading-from-an-earlier-version">Upgrading from an Earlier Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/installation/06-adapter-installation-troubleshooting">CTI Adapter Installation Troubleshooting and Common Issues</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">CTI Adapter</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/01-cti-adapter-configuration">CTI Adapter Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/02-cti-attributes">CTI Attributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/03-cti-flows">CTI Flow</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/04-presence-sync-rules">Presence Sync Rules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/05-localization">Localization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/06-set-agent-status-on-session-end">Set Agent Status on Session End</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/07-contact-lens">Contact Lens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/08-cti-actions">CTI Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/09-recording-controls">Recording Controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/10-voicemail-drops">Voicemail Drops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/11-chat-widget-integration">Chat Widget Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/12-amazonq-integration">Amazon Q Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/13-voice-id">Voice Id</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/14-medialess">Setting up Medialess</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Salesforce Lambdas</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/01-contact-flow-salesforce-lambdas">Accessing the Salesforce API from Amazon Connect Contact Flows Using AWS Lambda</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/02-historical-metrics">Amazon Connect Historical Metrics in Salesforce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/03-real-time-metrics">Amazon Connect Real-Time Metrics in Salesforce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/04-contact-channel-analytics">Contact Channel Analytics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/05-contact-trace-record-import">Contact Trace Record Import</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/06-postcall-contact-lens-import">Postcall Contact Lens Import</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Appendices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Appendix A: Required Salesforce Configurations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-a-required-salesforce-configurations/01-configuring-my-domain">Configuring My Domain in Salesforce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-a-required-salesforce-configurations/02-configure-salesforce-omnichannel">Configure Salesforce Omnichannel for Testing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-b-configuring-salesforce-as-your-identity-provider/01-configuration">Appendix B: Configuring Salesforce as Your Identity Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-c-cti-flow-sources-and-events/01-cti-flow-sources-and-events">Appendix C: CTI Flow Sources and Events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-d-cti-flow-examples/01-cti-flow-examples">Appendix D: CTI Flow Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-e-salesforce-high-velocity-sales/01-high-velocity-sales">Appendix E: Integration with Salesforce High Velocity Sales</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/amazon-connect-salesforce-cti/docs/lightning/appendices/appendix-f-cti-flow-blocks/01-cti-flow-blocks">Appendix F: CTI Flow Blocks</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/amazon-connect-salesforce-cti/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Salesforce Lambdas</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Contact Channel Analytics</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Contact Channel Analytics</h1></header><p>In addition to the CTI adapter&#x27;s native ability to provide direct
playback links to call recordings in Amazon Connect, the AWS Serverless
Application Repository for Salesforce includes several functions that
allow you to process recordings, perform quality analytics functions,
and bring data into Salesforce.</p><p>This processing is done post-call, using the Contact Trace Record (CTR)
as the initiation path. The following quality analytics options are
available:</p><ul><li><p><strong>Call Recording Streaming:</strong> streams the actual audio file into
Salesforce. This option is not mandatory for the others to function.</p></li><li><p><strong>Recording Transcript:</strong> you can choose to have your call
recordings transcribed to text and presented in a visual format that
resembles a chat conversation. This allows for quick scanning of a
call to identify key segments of conversation. This option is
required if you wish to include the next level of analysis</p></li><li><p><strong>AI-Driven Contact Analysis:</strong> once the recordings have been
transcribed to text, you can also indicate that you wish to do
further analysis of the conversation using <a href="https://aws.amazon.com/comprehend/" target="_blank" rel="noopener noreferrer">Amazon
Comprehend</a>. Available options
are:</p><ul><li><p><strong>Sentiment Analysis:</strong> returns the overall sentiment of the
conversation (Positive, Negative, Neutral, or Mixed).</p></li><li><p><strong>Keyphrase Extraction:</strong> returns the key phrases or talking
points and a confidence score to support that this is a key
phrase.</p></li><li><p><strong>Language Detection:</strong> returns the dominant language with a
confidence score to support that a language is dominant</p></li><li><p><strong>Custom Entities:</strong> allows you to customize the AI to identify
terms that are specific to your domain</p></li><li><p><strong>Syntax Analysis:</strong> analyze the transcript using tokenization
and Parts of Speech (PoS), and identify word boundaries and
labels like nouns and adjectives within the text.</p></li></ul></li></ul><p>If you would like to set up streaming with Contact Lens, please finish the
<a href="#call-recording-streaming">Call Recording Streaming</a> section below and then
follow the <a href="/amazon-connect-salesforce-cti/docs/lightning/cti-adapter/07-contact-lens">Contact Lens Streaming</a>
instructions and possibly the <a href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/06-postcall-contact-lens-import">Post Call Contact Lens Import</a>
instructions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="call-recording-streaming">Call Recording Streaming<a class="hash-link" href="#call-recording-streaming" title="Direct link to heading">​</a></h3><p>You can stream Call Recordings in your Salesforce Org. This
allows for easy access to the recordings from within Salesforce and can
be used in conjunction with the other contact channel analytics features
to provide a complete view of the customer interaction.</p><p>The import of call recordings is not required to activate the other
contact channel analytics features.</p><p>Once enabled during the AWS Serverless Application Repository for
Salesforce, recording import is activated on a call by call basis by
adding a specific contact attribute. This attribute is used during
Contact Trace Record processing to trigger the call import.</p><p>NOTE: After Call Work time is a part of the Contact Trace Record. As
such, CTRs are not generated until the agent leaves the after call work
state. If you are not seeing a recording import, please make sure the
agent has completed the call and left the after call work state.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cloudformation-template">Cloudformation Template<a class="hash-link" href="#cloudformation-template" title="Direct link to heading">​</a></h5><p>To make sure that the AWS resources are set up, make sure that the
<em>PostcallRecordingImportEnabled</em> parameter is set to true in your
Cloudformation stack:</p><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image266.png" class="img_ev3q"><blockquote><p><strong>Note:</strong> If you are expecting more than 1000 concurrent calls, you may have to increase the timeout for the <code>sfCTRTrigger</code> lambda.</p></blockquote><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-call-recording-streaming">Enabling call recording streaming<a class="hash-link" href="#enabling-call-recording-streaming" title="Direct link to heading">​</a></h4><ol><li><p>Login to your Amazon Connect instance as an Administrator</p></li><li><p>From the left navigation, choose <strong>Routing</strong> then select <strong>Contact
flows</strong></p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image201.png" class="img_ev3q"><ol start="3"><li><p>Open the contact flow that you want to use to enable call recording
import. This contact flow must have Amazon Connect&#x27;s native
recording turned on.</p></li><li><p>In you contact flow, before you transfer to queue, add a new <strong>Set
contact attributes</strong> block</p></li><li><p>Configure the block to set a contact attribute as follows:</p><p>a. <strong>Destination key:</strong> postcallRecordingImportEnabled</p><p>b. <strong>Value:</strong> true</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image202.png" class="img_ev3q"><ol start="6"><li><p><strong>Save</strong> the Set contact attributes block. Make sure it is
appropriately connected to your contact flow, and <strong>Publish</strong> the
flow.</p></li><li><p>Wait approximately 2 minutes to give the contact flow time to
publish.</p></li><li><p>Place a call, connect to your agent, speak for a few moments to test
the audio, then end the call. Make sure the agent exits after call
work</p></li><li><p>After a minute or so, a new Contact Channel Analytics record should be
imported, and when opening it, you should be able to stream the audio.
(See section <a href="#adding-contact-channel-analytics-to-the-service-console">Adding Contact Channel Analytics to the Service Console</a>. below).</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-users-to-the-ac_callrecording-permission-set">Adding users to the AC_CallRecording permission set<a class="hash-link" href="#adding-users-to-the-ac_callrecording-permission-set" title="Direct link to heading">​</a></h4><p>This step is only necessary for non admin user accounts for the non contact lens case.</p><ol><li>In the setup search box, search for &quot;Permission sets&quot;. Select the &quot;AC_CallRecording&quot; permission set. Select &quot;Manage Assignments&quot;.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image278.png" class="img_ev3q"><ol start="2"><li>Select &quot;Add Assignments&quot;. Add the users that should have access to the audio recordings and select &quot;assign&quot;.</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image279.png" class="img_ev3q"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-contact-channel-analytics-to-the-service-console">Adding Contact Channel Analytics to the Service Console<a class="hash-link" href="#adding-contact-channel-analytics-to-the-service-console" title="Direct link to heading">​</a></h4><ol><li><p>Log in into your Salesforce org and go to the <strong>Service Console</strong></p></li><li><p>Expand the <strong>navigation menu</strong> by selecting the down arrow and
choose <strong>Edit</strong>.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image40.png" class="img_ev3q"><ol start="3"><li>On the Edit Service Console App Navigation Items page, select <strong>Add
More Items</strong></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image41.png" class="img_ev3q"><ol start="4"><li><p>Select the <strong>+</strong> next to <strong>AC Contact Channel Analytics</strong></p></li><li><p>Select <strong>Add 1 Nav Item</strong></p></li><li><p>Change the order of your Navigation Items if desired, then choose
<strong>Save</strong></p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image203.png" class="img_ev3q"><ol start="7"><li>Once the save completes, expand the <strong>navigation menu</strong> by selecting
the down arrow and choose <strong>AC Contact Channel Analytics</strong></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image204.png" class="img_ev3q"><ol start="8"><li>Change the list view from Recently Viewed to <strong>All</strong></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image205.png" class="img_ev3q"><ol start="9"><li>Once the view refreshes, you should see your record(s)</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image206.png" class="img_ev3q"><ol start="10"><li><p>Select the recording to open it</p></li><li><p>In the top right, you will see a button to stream the recording.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image207.png" class="img_ev3q"><ol start="12"><li>NOTE: The recording playback, waveform, and transcript views are
only active when you also choose to activate recording transcripts.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recording-transcripts">Recording Transcripts<a class="hash-link" href="#recording-transcripts" title="Direct link to heading">​</a></h3><p>Enabling the Recording Transcripts activates a process to run your
contact recordings through Amazon Transcribe which uses a deep learning
process to convert text to speech accurately and quickly. In addition,
this process also creates a visual waveform of the recording, enables
the in-app recording playback, and provides a visual representation of
the conversation.</p><p>Once enabled during the AWS Serverless Application Repository for
Salesforce, recording transcription is activated on a call by call basis
by adding a specific contact attribute. This attribute is used during
Contact Trace Record processing to trigger the transcription.</p><p>Make sure the Salesforce user accessing recording transcription are added to the AC_CallRecording permission set, as described in the previous section.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-recording-transcription">Enabling recording transcription<a class="hash-link" href="#enabling-recording-transcription" title="Direct link to heading">​</a></h4><ol><li><p>Login to your Amazon Connect instance as an Administrator</p></li><li><p>From the left navigation, choose <strong>Routing</strong> then select <strong>Contact
flows</strong></p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image201.png" class="img_ev3q"><ol start="3"><li><p>Open the contact flow that you want to use to enable call
transcription. This contact flow must have Amazon Connect&#x27;s native
recording turned on, since the transcription is dependent on it.</p></li><li><p>In you contact flow, before you transfer to queue, add a new <strong>Set
contact attributes</strong> block</p></li><li><p>Configure the block to set two contact attributes as follows:</p><ol><li><p>Attribute 1: enables the transcription process</p><p>a. <strong>Destination key</strong>: postcallTranscribeEnabled</p><p>b. <strong>Value</strong>: true</p></li><li><p>Attribute 2: specifies the transcription language</p><p>-a. <strong>Destination key</strong>: postcallTranscribeLanguage</p><p>b. <strong>Value</strong>: en-US (See <a href="https://docs.aws.amazon.com/transcribe/latest/dg/API_StartTranscriptionJob.html#transcribe-StartTranscriptionJob-request-LanguageCode" target="_blank" rel="noopener noreferrer">Amazon Transcribe API
Reference</a>
for valid language codes)</p></li></ol></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image208.png" class="img_ev3q"><ol start="6"><li><p><strong>Save</strong> the Set contact attributes block. Make sure it is
appropriately connected to your contact flow, and <strong>Publish</strong> the
flow.</p></li><li><p>Wait approximately 2 minutes to give the contact flow time to
publish.</p></li><li><p>Place a call, connect to your agent, speak for a few moments from
both the agent and the customer side to generate a good transcript,
then end the call. Make sure the agent exits after call work</p></li><li><p>The transcription will take at least as long as the call did. Wait
an appropriate amount of time for the transcription to be available.</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-transcriptions">Accessing transcriptions<a class="hash-link" href="#accessing-transcriptions" title="Direct link to heading">​</a></h4><ol><li><p>Log in into your Salesforce org and go to the <strong>Service Console</strong></p></li><li><p>Expand the <strong>navigation menu</strong> by selecting the down arrow and
choose AC Contact Channel Analytics. If you have not previously
added AC Contact Channel Analytics to the navigation menu, complete
the steps found in
<a href="#adding-contact-channel-analytics-to-the-service-console">Adding Contact Channel Analytics to the Service Console</a>.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image209.png" class="img_ev3q"><ol start="3"><li>Change the list view from Recently Viewed to <strong>All</strong></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image205.png" class="img_ev3q"><ol start="4"><li>Once the view refreshes, you should see your record(s)</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image210.png" class="img_ev3q"><ol start="5"><li><p>Select a record to view the details.</p></li><li><p>Once the record opens, note the recording, and the visual version of the transcription</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image211.png" class="img_ev3q"><ol start="7"><li>Also note that the transcriptions for each side of the conversation
are also included as attachments.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ai-driven-contact-analysis">AI Driven Contact Analysis<a class="hash-link" href="#ai-driven-contact-analysis" title="Direct link to heading">​</a></h3><p>Enabling the AI Driven Contact Analysis function allows you to process
the transcribed text using <a href="https://aws.amazon.com/comprehend/" target="_blank" rel="noopener noreferrer">Amazon
Comprehend</a>. Amazon Comprehend is a
natural language processing service that uses machine learning to find
insights and relationships in text.</p><p>Once enabled during the AWS Serverless Application Repository for
Salesforce, contact analysis is activated on a call by call basis by
adding a specific contact attribute. This attribute is used during
Contact Trace Record processing to trigger the Amazon Comprehend task.</p><p>There are five functions available with the integration. Each function
is triggered by a code. You can use one code in your contact attribute,
or string multiple together as a comma separated list. The available
codes and their functions are:</p><ul><li><p><strong>snt = Sentiment Analysis</strong></p></li><li><p><strong>kw = Keyphrase Extraction</strong></p></li><li><p><strong>dl = Language Detection</strong></p></li><li><p><strong>ne = Custom Entities</strong></p></li><li><p><strong>syn = Syntax Analysis</strong></p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-ai-driven-contact-analysis">Enabling AI Driven Contact Analysis<a class="hash-link" href="#enabling-ai-driven-contact-analysis" title="Direct link to heading">​</a></h4><ol><li><p>Login to your Amazon Connect instance as an Administrator</p></li><li><p>From the left navigation, choose <strong>Routing</strong> then select <strong>Contact
flows</strong></p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image201.png" class="img_ev3q"><ol start="3"><li><p>Open the contact flow that you want to use to enable AI Driven
Contact Analytics. This contact flow must have Amazon Connect&#x27;s
native recording turned on, and transcription enabled as these are
both prerequisites for the analytics function.</p></li><li><p>In you contact flow, before you transfer to queue, add a new <strong>Set
contact attributes</strong> block</p></li><li><p>Configure the block to set a contact attribute as follows:</p><p>a. <strong>Destination key:</strong> postcallTranscribeComprehendAnalysis</p><p>b. <strong>Value:</strong> snt,dl,kw,syn</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- In this example, we are performing sentiment analysis,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">language detection, and keyphrase</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">extraction</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image212.png" class="img_ev3q"><ol start="6"><li><p><strong>Save</strong> the Set contact attributes block. Make sure it is
appropriately connected to your contact flow, and <strong>Publish</strong> the
flow.</p></li><li><p>Wait approximately 2 minutes to give the contact flow time to
publish.</p></li><li><p>Place a call, connect to your agent, speak for a few moments from
both the agent and the customer side to generate a good transcript,
then end the call. Make sure the agent exits after call work</p></li><li><p>The contact analysis runs after the transcription, which will take
at least as long as the call did. Wait an appropriate amount of time
for the analysis to be available.</p></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-ai-driven-contact-analysis">Accessing the AI Driven Contact Analysis<a class="hash-link" href="#accessing-the-ai-driven-contact-analysis" title="Direct link to heading">​</a></h4><ol><li><p>Log in into your Salesforce org and go to the <strong>Service Console</strong></p></li><li><p>Expand the <strong>navigation menu</strong> by selecting the down arrow and
choose AC Contact Channel Analytics. If you have not previously
added AC Contact Channel Analytics to the navigation menu, complete
the steps found in
<a href="#adding-contact-channel-analytics-to-the-service-console">Adding Contact Channel Analytics to the Service Console</a>.</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image209.png" class="img_ev3q"><ol start="3"><li>Change the list view from Recently Viewed to <strong>All</strong></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image205.png" class="img_ev3q"><ol start="4"><li>Once the view refreshes, you should see your record(s)</li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image210.png" class="img_ev3q"><ol start="5"><li><p>Select a record to view the details.</p></li><li><p>Once the record opens, note the Keywords, Sentiment, and Dominant
Language</p></li></ol><img loading="lazy" src="/amazon-connect-salesforce-cti/img/lightning/image213.png" class="img_ev3q"></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/amazon-connect/amazon-connect-salesforce-cti/docs/lightning/04-salesforce-lambdas/04-contact-channel-analytics.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/03-real-time-metrics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Amazon Connect Real-Time Metrics in Salesforce</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/amazon-connect-salesforce-cti/docs/lightning/salesforce-lambdas/05-contact-trace-record-import"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contact Trace Record Import</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#call-recording-streaming" class="table-of-contents__link toc-highlight">Call Recording Streaming</a></li><li><a href="#recording-transcripts" class="table-of-contents__link toc-highlight">Recording Transcripts</a></li><li><a href="#ai-driven-contact-analysis" class="table-of-contents__link toc-highlight">AI Driven Contact Analysis</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
<script src="/amazon-connect-salesforce-cti/assets/js/runtime~main.b6dcc330.js"></script>
<script src="/amazon-connect-salesforce-cti/assets/js/main.5b32cd97.js"></script>
</body>
</html>